(this.webpackJsonpsprint4=this.webpackJsonpsprint4||[]).push([[0],{22:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(3),r=n.n(a),s=n(9),c=n(7),o=n(53),i=n(56),l=n(41),d={getBoardById:function(e){return p.apply(this,arguments)},addNewBoard:function(e,t){return j.apply(this,arguments)},updateBoard:function(e){return h.apply(this,arguments)},createActivity:function(e){var t={id:l.a.makeId(),txt:e.txt,commentTxt:e.commentTxt,createdAt:Date.now(),byMember:{}};e.card&&(t.card={id:e.card.id,title:e.card.title});e.group||(t.group=Object(s.a)({},e.group));return t},getCardTitleById:function(e,t){var n;return t.groups.forEach((function(t){return t.cards.forEach((function(t){t.id===e&&(n=t.title)}))})),n},query:function(){return b.apply(this,arguments)},createImage:function(e){return{type:"img",id:l.a.makeId(),src:e,title:"Image",createdAt:Date.now()}},add:function(e){return u.apply(this,arguments)}};function u(){return(u=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("board",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("board/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("board");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.a.emit("updated board",t),e.next=3,o.a.put("board/".concat(t._id),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:t,isArchived:!1,createdAt:Date.now,description:"Board's description",labels:[{id:"l101",name:"Default",color:"green"},{id:"l102",name:"Default",color:"yellow"},{id:"l103",name:"Default",color:"orange"},{id:"l104",name:"Default",color:"red"},{id:"l105",name:"Default",color:"purple"},{id:"l106",name:"Default",color:"blue"}],activities:[],createdBy:{fullName:"Abi Abambi",imgUrl:"http://some-img"},style:{fontClr:"#f9f9f9",bgImg:null,boardColor:n},members:[{_id:"u101",fullName:"Abi Abambi",imgUrl:"http://some-img"}],groups:[{id:l.a.makeId(),title:"Add New Card Title",description:"description",archivedAt:!1,labels:[],cards:[]}]},console.log(a),e.next=4,o.a.post("board",a);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},240:function(e,t){},243:function(e,t,n){"use strict";n.r(t),n.d(t,"cardService",(function(){return o}));var a=n(3),r=n.n(a),s=n(7),c=n(41),o=(n(22),{addCard:function(e,t,n){return i.apply(this,arguments)}});function i(){return(i=Object(s.a)(r.a.mark((function e(t,n,a){var s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("groupId",a),s=JSON.parse(JSON.stringify(t)),o={id:c.a.makeId(),title:n,description:"",archivedAt:null,members:[],labels:[],createdAt:Date.now(),dueDate:null,attachments:null,timeAnalysis:{timeInGroupsMap:{},currGroup:{groupId:a,enteredAt:Date.now()}},byMember:{}},s.groups.map((function(e){return e.id===a?(e.cards.push(o),e):e})),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},252:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(23),c=n.n(s),o=n(33),i=n(15),l=n(45),d=n(9),u=n(10),p=n(11),b=n(13),h=n(12),j=n(25),m=n(99),f=n.n(m),v=n(100),g=n.n(v),O=n(101),x=n.n(O),y=n.p+"static/media/homenew.eed7a37b.jpg",w=n.p+"static/media/logo.5e046566.png",C=n(1);var k=n(3),N=n.n(k),S=n(7),D=n(22),A=n(56),E=n(41),B=n(243).cardService;function I(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.getBoardById(e);case 3:a=t.sent,n({type:"SET_BOARD",board:a}),A.a.emit("join board",e),A.a.off("updated board"),A.a.on("updated board",(function(e){n({type:"SET_BOARD",board:e})})),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(0),console.log("boardStore: Error in loadBoard",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var n=Object(S.a)(N.a.mark((function n(a){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.a.addNewBoard(e,t);case 2:return r=n.sent,a({type:"SET_BOARD",newBoard:r}),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function M(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_STYLE",style:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function U(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.parse(JSON.stringify(e)),n({type:"SET_BOARD",board:a}),t.next=5,D.a.updateBoard(a);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error updating board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function L(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(JSON.stringify(e)),s=r.groups.findIndex((function(e){return t===e.id})),r.groups.splice(s,1),a({type:"SET_BOARD",board:r}),n.next=7,D.a.updateBoard(r);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("error deleting card",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}function F(e,t,n){return function(){var a=Object(S.a)(N.a.mark((function a(r){var s,c,o;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s=JSON.parse(JSON.stringify(e)),c=s.groups.findIndex((function(e){return e.cards.find((function(e){return e.id===t.id}))})),o=s.groups[c].cards.findIndex((function(e){return e.id===t.id})),s.groups[c].cards[o]=t,n&&(s.activities||(s.activities=[]),s.activities.unshift(n)),r({type:"SET_BOARD",board:s}),a.next=9,D.a.updateBoard(s);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log("error updating card",a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}function P(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(r=JSON.parse(JSON.stringify(e))).activities||(r.activities=[]),r.activities.unshift(t),a({type:"SET_BOARD",board:r}),n.next=7,D.a.updateBoard(r);case 7:console.log(r),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("error updating board",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}var R=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={newGroupTitle:""},e.handleChange=function(t){var n=t.target.value;e.setState({newGroupTitle:n})},e.onSubmit=function(t){t.preventDefault(),e.state.newGroupTitle&&(e.props.onAddNewGroup(e.props.board,e.state.newGroupTitle),e.setState({newGroupTitle:""}))},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({newGroupTitle:""})}},{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"new-group-form",children:Object(C.jsxs)("form",{onBlur:this.setNotEditing,onSubmit:this.onSubmit,children:[Object(C.jsx)("input",{onBlur:function(){return e.props.closeNewGroup()},placeholder:"Enter list title",type:"text",autoFocus:!0,onChange:this.handleChange,value:this.state.newGroupTitle?this.state.newGroupTitle:""}),Object(C.jsxs)("div",{className:"save-btn-container",children:[Object(C.jsx)("button",{className:"save-btn",onMouseDown:this.onSubmit,children:"Add List"}),Object(C.jsx)("button",{onClick:function(){return e.props.closeNewGroup()},children:"close"})]})]})})}}]),n}(a.Component),_={onAddNewGroup:function(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(JSON.stringify(e)),s={id:E.a.makeId(),title:t,cards:[],archivedAt:!1,style:{}},r.groups.push(s),a({type:"SET_BOARD",board:r}),n.next=7,D.a.updateBoard(r);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("error adding new group",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}},G=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),_)(R),J=n(52),V=n(254),z=n(92),W=n.n(z),H=n(153),K=n.n(H),Y=n(91),q=n.n(Y),Z=n(152),X=n.n(Z);function Q(e){var t=e.label,n=e.action,a=e.setLabelEditId,s=e.onRemoveLabel;e.card;return Object(C.jsxs)("div",{className:"label-edit-modal",children:[Object(C.jsx)(V.a,{className:"close-modal",size:"small",onClick:function(){return a()},children:Object(C.jsx)(X.a,{})}),Object(C.jsxs)("form",{onSubmit:function(e){return n(e,t)},children:[Object(C.jsx)("input",{type:"text",name:"labelName",defaultValue:t?t.name:"",placeholder:"Enter label's name..."}),Object(C.jsx)("div",{className:"color-palette color-picker-container",children:["green","yellow","orange","red","purple","blue","pink"].map((function(e){return Object(C.jsxs)(r.a.Fragment,{children:[Object(C.jsx)("input",{required:!0,hidden:!0,type:"radio",id:e,name:"newColor",value:e,defaultChecked:t?e===t.color:"pink"}),Object(C.jsx)("label",{htmlFor:e,children:Object(C.jsx)("div",{className:"color-picker ".concat(e)})})]},e)}))}),Object(C.jsxs)("div",{className:"save-cancel-btns",children:[Object(C.jsx)("button",{className:"save-btn",children:"Save"}),t&&Object(C.jsx)("button",{className:"cancel-btn",onClick:function(){return s(t.id)},children:"Delete"})]})]})]})}var $=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={labelEditId:null},e.setLabelEditId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.setState({labelEditId:t})},e.onAddLabel=function(t){t.preventDefault();var n={name:t.target.labelName.value,color:t.target.newColor.value};e.props.addLabel(e.props.board,n),e.setLabelEditId()},e.onEditLabel=function(t,n){t.preventDefault();var a=t.target.labelName.value,r=t.target.newColor.value,s=Object(d.a)(Object(d.a)({},n),{},{name:a,color:r});e.props.updateLabel(e.props.board,s),e.setLabelEditId()},e.onRemoveLabel=function(t){e.props.removeLabel(e.props.board,t),e.setLabelEditId()},e.onToggleLabelToCard=function(t,n){var a=t.labels.findIndex((function(e){return e.id===n}));t.labels=-1===a?[].concat(Object(l.a)(t.labels),[{id:n}]):[].concat(Object(l.a)(t.labels.slice(0,a)),Object(l.a)(t.labels.slice(a+1)));var r=e.props.createActivity("updated a label");e.props.updateCard(e.props.board,t,r)},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.board,a=t.card;return Object(C.jsx)("div",{className:this.props.isShownOnBoard?"card-preview-label-palette":"card-details-label-palette",style:this.props.style,children:Object(C.jsx)("ul",{className:"clean-list",children:Object(C.jsxs)("div",{className:"labels-modal flex column",children:[Object(C.jsx)("span",{className:"labels-modal-header",children:"Labels"}),n.labels&&n.labels.map((function(t){return Object(C.jsx)("li",{className:"label",children:Object(C.jsxs)("div",{className:"flex justify-space-between label",children:[Object(C.jsxs)("div",{className:"label-color ".concat(t.color," flex justify-space-between"),onClick:a?function(){return e.onToggleLabelToCard(a,t.id)}:function(){return e.setLabelEditId(e.state.labelEditId===t.id?null:t.id)},children:[Object(C.jsx)("span",{children:t.name}),a&&a.labels.find((function(e){return e.id===t.id}))&&Object(C.jsx)(q.a,{className:"tick-symbol",fontSize:"small"})]}),Object(C.jsx)(V.a,{className:"edit-label-btn",onClick:function(){return e.setLabelEditId(e.state.labelEditId===t.id?null:t.id)},children:Object(C.jsx)(W.a,{fontSize:"small"})}),!a&&Object(C.jsx)(V.a,{className:"remove-label-btn",onClick:function(){return e.onRemoveLabel(t.id)},children:Object(C.jsx)(K.a,{fontSize:"small"})}),e.state.labelEditId===t.id&&Object(C.jsx)(Q,{label:t,action:e.onEditLabel,onRemoveLabel:e.onRemoveLabel,setLabelEditId:e.setLabelEditId})]})},t.id)})),Object(C.jsxs)("li",{className:"label add-label",children:[Object(C.jsx)("div",{className:"label-color add-label",onClick:function(){return e.setLabelEditId("addLabel"===e.state.labelEditId?null:"addLabel")},children:Object(C.jsx)("div",{className:"new-label-button btn",children:"Create a new label"})}),"addLabel"===this.state.labelEditId&&Object(C.jsx)(Q,{action:this.onAddLabel,setLabelEditId:this.setLabelEditId})]})]})})})}}]),n}(a.Component),ee={addLabel:function(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(JSON.stringify(e)),t.id=E.a.makeId(),r.labels||(r.labels=[]),r.labels.push(t),a({type:"SET_BOARD",board:r}),n.next=8,D.a.updateBoard(r);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("error adding label",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},updateLabel:function(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(r=JSON.parse(JSON.stringify(e))).labels=r.labels.map((function(e){return e.id===t.id&&(e=t),e})),a({type:"SET_BOARD",board:r}),n.next=6,D.a.updateBoard(r);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("error updating label",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},removeLabel:function(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(JSON.stringify(e)),s=r.labels.findIndex((function(e){return e.id===t})),r.labels.splice(s,1),a({type:"SET_BOARD",board:r}),n.next=7,D.a.updateBoard(r);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("error removing label",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},updateCard:F},te=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),ee)($),ne=n(318),ae=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={imgUrl:null},e.testImage=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=!1,s=new Image;s.onerror=s.onabort=function(){r||(clearTimeout(n),t(e,"error"))},s.onload=function(){r||(clearTimeout(n),t(e,"success"))},s.src=e,n=setTimeout((function(){r=!0,s.src="//!!!!/test.jpg",t(e,"timeout")}),a)},e.setImgResult=function(t,n){"success"===n&&e.setState({imgUrl:t})},e.getStyle=function(){return e.state.imgUrl?{backgroundImage:"url(".concat(e.props.imgUrl,")")}:{}},e.getName=function(){return e.props.name?e.props.name:""},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.testImage(this.props.imgUrl,this.setImgResult)}},{key:"getInitials",value:function(e){if(e){var t=e.split(" "),n=t[0].charAt(0).toUpperCase(),a="";return t.length>1&&(a=t[1].charAt(0).toUpperCase()),n+a}}},{key:"render",value:function(){var e="member-preview"+(this.props.showBig?" member-preview-big":"");return Object(C.jsx)(ne.a,{title:this.getName(),children:Object(C.jsx)("div",{className:e,style:this.getStyle(),children:this.state.imgUrl?Object(C.jsx)(r.a.Fragment,{}):this.getInitials(this.props.name)})})}}]),n}(a.Component),re=n(302),se={load:function(e){return JSON.parse(localStorage.getItem(e))},save:function(e,t){localStorage.setItem(e,JSON.stringify(t))},clear:function(e){localStorage.clear(e)}};n(53);var ce=[{_id:"1",email:"miri@gmail.com",username:"miri",password:"miri123",imgUrl:"img.png"}],oe={login:function(e){return ie.apply(this,arguments)},logout:function(){return de.apply(this,arguments)},signup:function(e){return le.apply(this,arguments)},getLoggedinUser:pe,getUsers:function(){return be.apply(this,arguments)},remove:function(e){return he.apply(this,arguments)},update:function(e){return je.apply(this,arguments)}};function ie(){return(ie=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=ce.find((function(e){return e.username===t.username})))){e.next=4;break}return e.abrupt("return",ue(n));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function le(){return(le=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={},e.abrupt("return",ue(n));case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function de(){return(de=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,sessionStorage.clear(),e.abrupt("return");case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ue(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function pe(){return JSON.parse(sessionStorage.getItem("loggedinUser")||"null")}function be(){return(be=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(S.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce=ce.filter((function(e){return e._id!==t})),e.abrupt("return",se.remove("user",t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ce.indexOf((function(e){return e._id!==t.id})),ce.splice(n,1,t),e.abrupt("return",se.put("user",t));case 5:t=e.sent,pe()._id===t._id&&ue(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return function(){var e=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.getUsers();case 2:n=e.sent,t({type:"SET_USERS",users:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function fe(){return function(){var e=Object(S.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}var ve=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchLetters:""},e.toggleUser=function(t){e.props.members.find((function(e){return e._id===t._id}))?e.props.card?(e.props.removeCardMember(e.props.board,e.props.card,t._id),e.props.onRemoveCardMember(t)):e.props.removeMember(t._id,e.props.board):e.props.card?(e.props.addCardMember(e.props.board,e.props.card,t),e.props.onAddCardMember(t)):e.props.addToMembers(t,e.props.board)},e.getMembers=function(t){return e.props.members.find((function(e){return e._id===t}))},e.handleChange=function(t){var n=t.target.value;e.setState({searchLetters:n})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.members,a=t.allUsers;return n?Object(C.jsx)(re.a,{onClickAway:this.props.onCloseModal,children:Object(C.jsxs)("div",{className:"add-member-modal",style:this.props.style,children:[Object(C.jsx)("h3",{children:"Members"}),Object(C.jsx)("input",{type:"search",onChange:this.handleChange,name:"search-member",id:"",autoCorrect:"off",autoComplete:"off"}),Object(C.jsx)("div",{className:"add-members-container",children:a.filter((function(t){return!e.state.searchLetters||t.fullName.includes(e.state.searchLetters)})).map((function(t){return Object(C.jsxs)("div",{className:"member-container",onClick:function(){return e.toggleUser(t)},children:[Object(C.jsx)(ae,{name:t.fullName,imgUrl:t.imgUrl}),Object(C.jsx)("p",{children:t.fullName}),e.getMembers(t._id)&&Object(C.jsx)("div",{children:Object(C.jsx)(q.a,{})})]},t._id)}))})]})}):Object(C.jsx)("div",{children:"loading"})}}]),n}(a.Component),ge={loadAllUsers:me,addToMembers:function(e,t){var n=e._id,a=e.fullName,r=e.imgUrl;return function(){var e=Object(S.a)(N.a.mark((function e(s){var c,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={_id:n,fullName:a,imgUrl:r},(o=JSON.parse(JSON.stringify(t))).members.unshift(c),s({type:"SET_BOARD",board:o}),e.next=6,D.a.updateBoard(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addCardMember:function(e,t,n){var a=n._id,r=n.fullName,s=n.imgUrl;return function(){var n=Object(S.a)(N.a.mark((function n(c){var o,i,l,d,u;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={_id:a,fullName:r,imgUrl:s},(i=JSON.parse(JSON.stringify(t))).members||(i.members=[]),i.members.push(o),l=JSON.parse(JSON.stringify(e)),d=l.groups.findIndex((function(e){return e.cards.find((function(e){return e.id===i.id}))})),u=l.groups[d].cards.findIndex((function(e){return e.id===i.id})),l.groups[d].cards[u]=i,c({type:"SET_BOARD",board:l}),n.next=11,D.a.updateBoard(l);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeMember:function(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=JSON.parse(JSON.stringify(t)),s=r.members.findIndex((function(t){return t._id===e})),r.members.splice(s,1),a({type:"SET_BOARD",board:r}),n.next=6,D.a.updateBoard(r);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeCardMember:function(e,t,n){return function(){var a=Object(S.a)(N.a.mark((function a(r){var s,c,o,i;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(s=JSON.parse(JSON.stringify(t))).members||(s.members=[]),s.members=s.members.filter((function(e){return e._id!==n})),c=JSON.parse(JSON.stringify(e)),o=c.groups.findIndex((function(e){return e.cards.find((function(e){return e.id===s.id}))})),i=c.groups[o].cards.findIndex((function(e){return e.id===s.id})),c.groups[o].cards[i]=s,r({type:"SET_BOARD",board:c}),a.next=10,D.a.updateBoard(c);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},Oe=Object(i.b)((function(e){return{board:e.boardModule.currBoard,allUsers:e.userModule.users}}),ge)(ve),xe=n(303),ye=n(314),we=n(115),Ce=n.n(we);function ke(e){if(!e.dueDate)return Object(C.jsx)(r.a.Fragment,{});var t=(e.dueDate-Date.now())/1e3/60/60/24,n=new Date(e.dueDate),a=n.toLocaleString("en-US",{month:"short"}),s=n.getDate(),c="".concat(a," ").concat(s);if(Math.abs(t)>365){var o=n.getFullYear();c+=", ".concat(o)}if(e.displayTime){var i=n.toLocaleTimeString();c+=" at ".concat(i)}var l="card-preview-due-date-container card-preview-due-date-container-";switch(!0){case t>7:l+="long";break;case t>3:l+="medium";break;case t>=0:l+="due-soon";break;default:l+="overdue"}return Object(C.jsxs)("div",{className:l,children:[Object(C.jsx)(Ce.a,{fontSize:"inherit"}),c]})}var Ne=n(155),Se=n.n(Ne),De=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={date:null,isPopperOpen:!1,anchor:null},e.setDefaultDate=function(){e.setState({date:e.props.dueDate})},e.openModal=function(){e.setState({isPopperOpen:!0})},e.closeModal=function(){e.setState({isPopperOpen:!1})},e.onSetDueDate=function(t){var n=t.target.value,a=new Date(n).getTime();e.setState({date:a})},e.submitDueDate=function(){e.props.onUpdateDueDate(e.state.date)},e.onRemoveDueDate=function(t){e.setState({date:null},e.submitDueDate),e.closeModal()},e.getDisplayDateBtn=function(){return!e.state.date||e.props.alwaysShowButton?Object(C.jsxs)("button",{className:"flex",onClick:e.openModal,ref:e.anchor,children:[Object(C.jsx)(Se.a,{}),Object(C.jsx)("span",{style:e.props.applyStyle?{fontWeight:"500"}:{},className:"sidebar-button-text",children:"Set due date"})]}):Object(C.jsx)("div",{onClick:e.openModal,ref:e.anchor,className:"set-due-date-expanded",children:Object(C.jsx)(ke,{dueDate:e.state.date,displayTime:e.props.displayTime})})},e.parseDate=function(){var t=new Date(e.state.date);e.state.date||(t=new Date(Date.now()));var n=t.getFullYear(),a=[n,t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes()];return a=a.map((function(e){return 1===(e=e.toString()).length&&(e="0".concat(e)),e})),"".concat(n,"-").concat(a[1],"-").concat(a[2],"T").concat(a[3],":").concat(a[4])},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.anchor=r.a.createRef(),this.setState({anchor:this.anchor}),this.setDefaultDate()}},{key:"componentDidUpdate",value:function(e,t){if(e.dueDate!==this.props.dueDate)return this.setDefaultDate()}},{key:"render",value:function(){return this.state.anchor?Object(C.jsxs)(C.Fragment,{children:[this.getDisplayDateBtn(),this.state.anchor.current?Object(C.jsxs)(xe.a,{anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:this.state.isPopperOpen,anchorEl:this.state.anchor.current,onClose:this.closeModal,onBackdropClick:this.closeModal,children:[Object(C.jsx)("form",{noValidate:!0,children:Object(C.jsx)(ye.a,{onBlur:this.submitDueDate,onChange:this.onSetDueDate,id:"datetime-local",label:"Set Due Date",type:"datetime-local",value:this.parseDate(),InputLabelProps:{shrink:!0}})}),Object(C.jsx)("div",{className:"remove-date-btn-container",children:Object(C.jsx)("button",{className:"cancel-btn",onClick:this.onRemoveDueDate,children:"Remove Due Date"})})]}):Object(C.jsx)(r.a.Fragment,{})]}):Object(C.jsx)(r.a.Fragment,{})}}]),n}(a.Component),Ae=n(316),Ee=n(304),Be=n(156),Ie=n.n(Be),Te=n(159),Me=n.n(Te),Ue=n(157),Le=n.n(Ue),Fe=n(158),Pe=n.n(Fe),Re=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={isOpen:!1,offsetTop:null,offsetLeft:null,width:null,txtValue:"",isMemberListOpen:!1,isLabelPaletteShown:!1},e.ref=r.a.createRef(),e.submitCard=function(t){return new Promise((function(n){e.props.updateCard(e.props.board,t).then((function(){e.onClose()}))}))},e.getParentPos=function(){var t=e.props.anchorEl.current.parentElement.getBoundingClientRect();console.log("pos",t),e.setState({offsetTop:t.top,offsetLeft:t.left,width:t.width})},e.onClose=function(){e.props.onClose()},e.onChange=function(t){var n=t.target.value;e.setState({txtValue:n})},e.onKeyPress=function(t){if("Enter"===t.key)return e.onUpdateHeader()},e.onUpdateHeader=function(){var t=Object(d.a)({},e.props.props.card);t.title=e.state.txtValue,e.submitCard(t)},e.onDeleteCard=function(){var t=Object(d.a)({},e.props.props.card);t.deleteddAt=Date.now(),e.props.onRemoveCard(e.props.board,t.id)},e.createActivity=function(t){var n={txt:t,commentTxt:"",card:{id:e.props.props.card.id,title:e.props.props.card.title}};return console.log("CREATING ACTIVITY FOR CARD "+JSON.stringify(n)),D.a.createActivity(n)},e.onToggleLabelPaletteShown=function(){e.setState({isLabelPaletteShown:!e.state.isLabelPaletteShown,isMemberListOpen:!1})},e.toggleCardMembersMenu=function(){e.setState({isMemberListOpen:!e.state.isMemberListOpen,isLabelPaletteShown:!1})},e.onUpdateCardMembers=function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({card:n},(function(){var t=e.createActivity("edited the card members");e.submitCard(n,t)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onAddCardMember=function(t){var n=JSON.parse(JSON.stringify(e.props.props.card.members));n.unshift(t),e.onChangeMembers(n,"added a member")},e.onRemoveCardMember=function(t){var n=JSON.parse(JSON.stringify(e.props.props.card.members));n=n.filter((function(e){return e._id!=t._id})),e.onChangeMembers(n,"removed a member")},e.onChangeMembers=function(t,n){var a=Object(d.a)({},e.props.props.card);a.members=t,console.log(t),e.setState({card:a},(function(){var t=e.createActivity(n);e.submitCard(a,t)}))},e.onUpdateDueDate=function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=Object(d.a)({},e.props.props.card)).dueDate=n,e.setState({card:a},Object(S.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.createActivity("updated due date"),t.next=3,e.submitCard(a,n);case 3:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.getParentPos(),this.getCurrTitle()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"getCurrTitle",value:function(){var e=this.props.props.card.title;this.setState({txtValue:e})}},{key:"render",value:function(){return Object(C.jsx)(Ae.a,{onClose:this.props.onClose,open:!0,children:Object(C.jsxs)("div",{className:"card-edit-container",onClick:function(e){return e.stopPropagation()},style:{left:"".concat(this.state.offsetLeft,"px"),top:"".concat(this.state.offsetTop,"px"),position:"fixed"},children:[Object(C.jsxs)("div",{className:"card-edit-left",children:[Object(C.jsx)("div",{className:"card-preview",style:{width:"".concat(this.state.width,"px")},children:Object(C.jsx)("form",{children:Object(C.jsx)("textarea",{className:"card-preview-title-edit",autoFocus:!0,onKeyPress:this.onKeyPress,onChange:this.onChange,value:this.state.txtValue})})}),Object(C.jsx)("button",{className:"save-btn",onClick:this.onUpdateHeader,children:"Save"})]}),Object(C.jsx)("div",{className:"card-edit-right",children:Object(C.jsxs)("div",{className:"card-preview-edit-actions-container",children:[Object(C.jsxs)(Ee.a,{style:{textTransform:"none"},onClick:this.onDeleteCard,children:[Object(C.jsx)(Ie.a,{})," ",Object(C.jsx)("span",{children:"Delete card"})]}),Object(C.jsxs)(Ee.a,{style:{textTransform:"none"},onClick:this.onToggleLabelPaletteShown,children:[Object(C.jsx)(Le.a,{}),Object(C.jsx)("span",{children:"Edit labels"})]}),Object(C.jsxs)(Ee.a,{style:{textTransform:"none"},ref:this.ref,onClick:this.toggleCardMembersMenu,children:[Object(C.jsx)(Pe.a,{}),Object(C.jsx)("span",{children:"Edit members"})]}),Object(C.jsx)(De,{pplyStyle:!0,dueDate:this.props.props.card.dueDate,onUpdateDueDate:this.onUpdateDueDate,alwaysShowButton:!0}),Object(C.jsxs)(Ee.a,{style:{textTransform:"none"},onClick:this.onClose,children:[Object(C.jsx)(Me.a,{}),Object(C.jsx)("span",{children:"Close"})]})]})}),this.state.isLabelPaletteShown&&Object(C.jsx)(te,{createActivity:this.createActivity,card:this.props.props.card,isShownOnBoard:!0,style:{left:"".concat(-34,"px"),top:"".concat(58,"px"),position:"relative"}}),this.state.isMemberListOpen?Object(C.jsx)(Oe,{ref:this.ref,onCloseModal:this.toggleCardMembersMenu,allExistingUsers:this.props.board.members,card:this.props.props.card,members:this.props.props.card.members,onAddCardMember:this.onAddCardMember,onRemoveCardMember:this.onRemoveCardMember,style:{left:"".concat(92,"px"),top:"".concat(78,"px"),position:"relative"}}):Object(C.jsx)(r.a.Fragment,{})]})})}}]),n}(a.Component),_e={updateCard:F,onRemoveCard:function(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r,s,c;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.parse(JSON.stringify(e)),s=r.groups.findIndex((function(e){return e.cards.find((function(e){return e.id===t}))})),c=r.groups[s].cards.findIndex((function(e){return e.id===t})),r.groups[s].cards.splice(c,1),a({type:"SET_BOARD",board:r}),n.next=8,D.a.updateBoard(r);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("error deleting card",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},addActivity:P},Ge=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),_e)(Re);function Je(e){if(!e.cardLabels||!e.boardLabels)return Object(C.jsx)(r.a.Fragment,{});function t(t){var n=e.boardLabels.find((function(e){return e.id===t.id}));return e.preview?e.isFull?Object(C.jsx)("div",{className:"card-preview-full-label ".concat(null===n||void 0===n?void 0:n.color),children:null===n||void 0===n?void 0:n.name}):Object(C.jsx)("div",{className:"card-preview-collapsed-label ".concat(null===n||void 0===n?void 0:n.color)}):Object(C.jsx)("div",{className:"card-details-label ".concat(null===n||void 0===n?void 0:n.color),children:null===n||void 0===n?void 0:n.name})}return Object(C.jsx)("div",{className:"card-preview-labels flex",children:e.cardLabels.map((function(n,a){return Object(C.jsxs)("div",{onClick:e.onClickLabel,children:[" ",t(n)," "]},a)}))})}var Ve=n(160),ze=n.n(Ve),We=n(161),He=n.n(We),Ke=n(162),Ye=n.n(Ke),qe=n(67),Ze=n.n(qe),Xe=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={isEditing:!1},e.ref=r.a.createRef(),e.componentDidMount=function(){console.log("des",e.props.card.attachments)},e.getCardPreviewAttachments=function(){var t=e.props.card.attachments;return t&&Object.keys(t)&&t.length?Object(C.jsx)("div",{className:"card-preview-attr",children:Object(C.jsx)(ze.a,{style:{fontSize:16}})},"0"):null},e.getCardPreviewHoldDesc=function(){var t=e.props.card.description;return t&&Object.keys(t)?Object(C.jsx)("div",{className:"card-preview-attr",children:Object(C.jsx)(He.a,{style:{fontSize:16}})},"1"):null},e.getCardPreviewComments=function(){var t=e.props.board.activities;if(!t)return null;var n=t.filter((function(t){return t.card.id===e.props.card.id}));return(n=n.filter((function(e){return e.commentTxt?e:null})))&&n.length?Object(C.jsxs)("div",{className:"card-preview-attr",children:[Object(C.jsx)(Ye.a,{style:{fontSize:16}})," ",n.length]},"3"):null},e.getCardPreviewChecklist=function(){var t=e.props.card.checklists;if(!t||!t.length)return null;var n=0,a=0,r="";return t.forEach((function(e){e.todos.forEach((function(e){e.isDone&&(n+=1),a+=1}))})),a?(n===a&&(r=" card-preview-checklist-counter-done"),Object(C.jsxs)("div",{className:"card-preview-attr card-preview-checklist-counter".concat(r),children:[Object(C.jsx)(Ze.a,{style:{fontSize:16}})," ",Object(C.jsxs)("span",{children:[n,"/",a]})," "]},"2")):null},e.getCardPreviewMembers=function(){var t=e.props.card.members;if(!t||!t.length)return Object(C.jsx)(r.a.Fragment,{});var n=t.map((function(e,t){return Object(C.jsx)(ae,{name:e.fullName,imgUrl:e.imgUrl},t)}));return Object(C.jsx)("div",{className:"card-preview-members",children:n})},e.getCardPreviewAttrs=function(){var t=[e.getCardPreviewAttachments(),e.getCardPreviewHoldDesc(),e.getCardPreviewChecklist(),e.getCardPreviewComments()];if(e.getCardPreviewMembers()||!t.every((function(e){return!e})))return Object(C.jsx)("div",{className:"card-preview-attrs",children:t.map((function(e,t){return e||Object(C.jsx)(r.a.Fragment,{},t)}))})},e.onDetails=function(t){e.props.history.push("/board/".concat(e.props.board._id,"/card/").concat(e.props.card.id))},e.onOpenCardActions=function(t){t.stopPropagation(),e.onSetEditing()},e.onToggleLabels=function(t){return t.stopPropagation(),e.props.toggleFullLabels()},e.onSetEditing=function(){e.setState({isEditing:!0})},e.onSetNotEditing=function(){e.setState({isEditing:!1})},e.getCardCover=function(){var t=e.props.card.cover;return t?t.src?Object(C.jsx)("div",{className:"card-preview-cover-image",style:{backgroundImage:"url(".concat(t.src,")")}}):Object(C.jsx)("div",{className:"card-preview-cover-color",style:{backgroundColor:t.color}}):Object(C.jsx)(r.a.Fragment,{})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props.card,n={backgroundImage:"url("+t.attachments+")"};return Object(C.jsx)(J.b,{draggableId:this.props.card.id,index:this.props.index,children:function(a){return Object(C.jsxs)("section",Object(d.a)(Object(d.a)(Object(d.a)({className:"card-preview flex justify-space-between",onClick:e.onDetails},a.draggableProps),a.dragHandleProps),{},{ref:a.innerRef,children:[Object(C.jsxs)("div",{className:"attach-div",children:[Object(C.jsxs)("div",{className:"card-preview-start",children:[e.getCardCover(),t.attachments&&Object(C.jsx)("img",{className:"img-attach",style:n}),Object(C.jsx)(Je,{onClickLabel:e.onToggleLabels,isFull:e.props.fullLabel,cardLabels:t.labels,boardLabels:e.props.board.labels,preview:!0}),Object(C.jsx)("div",{className:"card-preview-header",children:t.title})]}),Object(C.jsxs)("div",{className:"card-preview-attrs",children:[Object(C.jsx)(ke,{dueDate:t.dueDate}),e.getCardPreviewAttrs(),e.getCardPreviewMembers()]})]}),Object(C.jsxs)("div",{className:"card-btn",ref:e.ref,onClick:e.onOpenCardActions,children:[Object(C.jsx)(W.a,{fontSize:"inherit"}),e.state.isEditing?Object(C.jsx)(Ge,{anchorEl:e.ref,props:e.props,onClose:e.onSetNotEditing}):Object(C.jsx)(r.a.Fragment,{})]}),a.placeholder]}))}})}}]),n}(a.Component),Qe={toggleFullLabels:function(){return function(e){e({type:"TOGGLE_FULL_LABEL"})}}},$e=Object(i.b)((function(e){return{board:e.boardModule.currBoard,fullLabel:e.boardModule.fullLabel}}),Qe)(Xe),et=n(68),tt=n.n(et),nt=n(49),at=n.n(nt),rt=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isEditing:!1,txtValue:""},e.onChange=function(t){var n=t.target.value;e.setState({txtValue:n})},e.onKeyPress=function(t){"Enter"===t.key&&e.onSubmit(t)},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.getIsEditing=function(){return e.state.isEditing?Object(C.jsx)("div",{className:"new-item-form",children:Object(C.jsxs)("form",{onKeyDown:e.onKeyPress,onBlur:e.setNotEditing,onSubmit:e.onSubmit,children:[Object(C.jsx)("textarea",{id:"add-new-card",placeholder:e.props.placeHolderTxt,autoFocus:!0,type:"text",onChange:e.onChange,value:e.state.txtValue}),Object(C.jsxs)("div",{className:"save-btn-container",children:[Object(C.jsx)("button",{className:"save-btn",onMouseDown:e.onSubmit,children:e.props.addBtnTxt}),Object(C.jsx)(at.a,{className:"close",onClick:e.setNotEditing})]})]})}):Object(C.jsxs)("div",{className:"new-item-btn",onClick:e.setEditing,children:[Object(C.jsx)(tt.a,{style:{fontSize:"20px"}}),e.props.addItemTxt]})},e.onSubmit=function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.state.txtValue){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.props.onAdd(e.state.txtValue);case 5:!1,"",e.setState({isEditing:false,txtValue:""});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{style:{border:"0px"},className:"new-item-container",children:this.getIsEditing()})}}]),n}(a.Component),st=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).addCard=function(t){t.stopPropagation(),e.props.onAdd("New Card..")},e.removeGroup=function(t){t.stopPropagation(),e.props.onRemoveGroup(e.props.board,e.props.groupId),e.props.toggleMenu()},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)(re.a,{onClickAway:function(){return e.props.toggleMenu()},children:Object(C.jsxs)("div",{className:"group-menu-container",children:[Object(C.jsx)("div",{children:"List Actions"}),Object(C.jsx)("div",{children:Object(C.jsx)("hr",{})}),Object(C.jsx)("div",{onClick:this.addCard,className:"group-menu-item",children:"+ Add Card..."}),Object(C.jsx)("div",{className:"group-menu-item",children:"Delete All Cards..."}),Object(C.jsx)("div",{children:Object(C.jsx)("hr",{})}),Object(C.jsx)("div",{className:"group-menu-item",onClick:this.removeGroup,children:"Delete This Group..."})]})})}}]),n}(a.Component),ct={onRemoveGroup:L},ot=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),ct)(st),it=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currGroupName:"",currGroupId:null,isMenuShown:!1,isChangeGroupShown:!1},e.onAddCard=function(t){return console.log("group preview",e.props.group),e.props.addCard(e.props.board,t,e.props.group.id)},e.getAddItemTxt=function(t){return e.props.group.cards.length?"Add another card":"Add a card"},e.handleChangeGroupName=function(t){e.setState({currGroupName:t.target.value})},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.currGroupId,r=n.currGroupName;e.props.setNewGroupName(a,r,e.props.board),e.setState({isChangeGroupShown:!1})},e.toggleMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.stopPropagation();var n=!e.state.isMenuShown;e.setState({isMenuShown:n})},e.onKeyPress=function(t){"Enter"===t&&e.closeChangeGroupName(t)},e.openHeadrEdit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.stopPropagation(),e.setState({isChangeGroupShown:!0})},e.closeChangeGroupName=function(t){e.setState({isChangeGroupShown:!1}),e.onSubmit(t)},e.onOpenChangeGroupName=function(t,n){e.setState({currGroupId:t,currGroupName:n,isChangeGroupShown:!0})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props.group;return Object(C.jsx)(J.b,{draggableId:t.id,index:this.props.index,children:function(n){return Object(C.jsxs)("section",Object(d.a)(Object(d.a)({className:"card-list",ref:n.innerRef},n.draggableProps),{},{children:[Object(C.jsxs)("div",Object(d.a)(Object(d.a)({className:"group-preview-header"},n.dragHandleProps),{},{children:[!e.state.isChangeGroupShown&&Object(C.jsx)("div",{onClick:function(){return e.onOpenChangeGroupName(t.id,t.title)},children:t.title}),e.state.isChangeGroupShown?Object(C.jsx)(re.a,{onClickAway:e.closeChangeGroupName,children:Object(C.jsx)("form",{onSubmit:e.onSubmit,className:"change-group-name",children:Object(C.jsx)("input",{className:"change-group-name-input",type:"text",name:"group-name",onKeyPress:e.onKeyPress,onChange:e.handleChangeGroupName,defaultValue:t.title,autoFocus:!0,spellCheck:"false",autoComplete:"off",onFocus:function(e){return e.target.select()}})})}):"",Object(C.jsx)("span",{onClick:e.toggleMenu,className:"list-header-extras material-icons dots-icon",children:"more_horiz"}),e.state.isMenuShown&&Object(C.jsx)(ot,{toggleMenu:e.toggleMenu,groupId:t.id,onAdd:e.onAddCard})]})),Object(C.jsx)(J.c,{droppableId:t.id,type:"card",children:function(n){return Object(C.jsxs)("div",Object(d.a)(Object(d.a)({className:"cards-content-wrapper",ref:n.innerRef},n.droppableProps),{},{children:[t.cards.map((function(t,n){if(!t.archivedAt)return Object(C.jsx)($e,{card:t,index:n,history:e.props.history},t.id)})),n.placeholder]}))}}),Object(C.jsx)("div",{className:"new-card-btn-container",id:"add-btn",children:Object(C.jsx)(rt,{addItemTxt:e.getAddItemTxt(),placeHolderTxt:"Add a card title..",addBtnTxt:"Add Card",onAdd:e.onAddCard})})]}))}})}}]),n}(a.Component),lt={addCard:function(e,t,n){return function(){var a=Object(S.a)(N.a.mark((function a(r){var s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.addCard(e,t,n);case 3:s=a.sent,r({type:"SET_BOARD",board:s}),D.a.updateBoard(s),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("ReviewActions: err in addCard",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},setNewGroupName:function(e,t,n){return function(){var a=Object(S.a)(N.a.mark((function a(r){var s,c,o;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,s=n.groups.findIndex((function(t){return t.id===e})),t!==n.groups[s].title&&t.trim()){a.next=4;break}return a.abrupt("return");case 4:return c=JSON.parse(JSON.stringify(n)),o=t.replace(/\s+/g," "),c.groups[s].title=o.trim(),r({type:"SET_BOARD",board:c}),a.next=10,D.a.updateBoard(c);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log("error setting group name",a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}},dt=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),lt)(it),ut=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isNewGroupShown:!1,groups:null},e.closeNewGroup=function(){e.setState({isNewGroupShown:!1})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.groups;t.onAddGroup;return n?Object(C.jsxs)("section",{className:"group-list flex",children:[Object(C.jsx)(J.c,{droppableId:"droppableGroupId",direction:"horizontal",type:"group",children:function(t){return Object(C.jsxs)("div",Object(d.a)(Object(d.a)({className:"flex cards"},t.droppableProps),{},{ref:t.innerRef,children:[n.map((function(t,n){return Object(C.jsx)(dt,{id:t.id,group:t,index:n,history:e.props.history},t.id)})),t.placeholder]}))}}),Object(C.jsxs)("div",{className:"new-group",children:[!this.state.isNewGroupShown&&Object(C.jsxs)("div",{className:"add-new-group-text btn",onClick:function(){return e.setState({isNewGroupShown:!0})},children:[Object(C.jsx)("span",{className:"material-icons",children:"add"}),"Add another list"]}),this.state.isNewGroupShown&&Object(C.jsx)(G,{closeNewGroup:this.closeNewGroup})]})]}):Object(C.jsx)("h1",{children:"Loading..."})}}]),n}(a.Component),pt=n(163),bt=n.n(pt),ht=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={description:"",isEditing:!1},e.setDescriptionFromProps=function(){var t=e.props.description;t||(t=""),e.setState({description:t})},e.onChange=function(t){var n=t.target.value;e.setState({description:n})},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.onSave=function(){e.props.onUpdateDesc(e.state.description),e.setNotEditing()},e.getDescriptionTxt=function(){return e.state.description?e.state.description:"Add a more detailed description\u2026"},e.getIsEditing=function(){return e.state.isEditing?Object(C.jsxs)("div",{className:"description-active-box flex column",children:[Object(C.jsx)("textarea",{value:e.state.description,autoFocus:!0,onChange:e.onChange,onBlur:e.onSave,placeholder:"Enter a more detailed description here...",className:"modal-desc-textarea"}),Object(C.jsx)("button",{onClick:e.onSave,children:"Save"})]}):Object(C.jsx)("pre",{className:"description-text-box",onClick:e.setEditing,children:e.getDescriptionTxt()})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setDescriptionFromProps()}},{key:"componentDidUpdate",value:function(e,t){e.description!==this.props.description&&this.setDescriptionFromProps()}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"modal-description flex",children:[Object(C.jsx)(bt.a,{}),Object(C.jsxs)("div",{className:"description-txt flex column",children:[Object(C.jsx)("h3",{className:"description-title",children:"Description"}),this.getIsEditing()]})]})}}]),n}(a.Component),jt=n(317),mt=n(305),ft=n(306),vt=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isEditing:!1,txtValue:""},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.onChange=function(t){e.setState({txtValue:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.state.txtValue&&(e.props.onAddComment(e.state.txtValue),e.setNotEditing(),e.setState({txtValue:""}))},e.onBlur=function(){if(!e.state.txtValue)return e.setNotEditing()},e.onSave=function(t){e.onSubmit(t)},e.getNewCommentDisplay=function(){return e.state.isEditing?Object(C.jsx)("div",{className:"add-comment-editing-container",children:Object(C.jsx)("form",{onBlur:e.onBlur,onSubmit:e.onSubmit,children:Object(C.jsx)("input",{className:"add-comment-input",type:"text",placeholer:"Write a comment...",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange})})}):Object(C.jsx)("div",{className:"add-comment-editing-closed",children:"Write a comment..."})},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"editing-section-container",children:Object(C.jsxs)(jt.a,{expanded:this.state.isEditing,onClick:this.setEditing,classes:{expanded:"editing-container-expanded",root:"editing-container-collapsed"},children:[Object(C.jsx)(mt.a,{"aria-controls":"panel1a-content",id:"panel1a-header",children:this.getNewCommentDisplay()}),Object(C.jsx)(ft.a,{children:Object(C.jsx)("div",{children:Object(C.jsx)("button",{className:"save-btn",disabled:!this.state.txtValue.length,onClick:this.onSave,children:"Add Comment"})})})]})})}}]),n}(a.Component),gt=n(307),Ot=n(98);function xt(e){var t=e.boardId,n=e.displayMode,a=e.activities;return a?(a&&a.length>15&&(a=a.slice(0,14)),Object(C.jsx)("ul",{className:"activity-list clean-list",children:a.map((function(e){var a=e.byMember;return Object(C.jsxs)("li",{className:"whole-activity flex align-center",children:[console.log(a),"user"!==n?Object(C.jsx)(ae,{name:a&&a.fullName?a.fullName:"Guest",imgUrl:a?a.imgUrl:""}):Object(C.jsx)(r.a.Fragment,{}),Object(C.jsxs)("pre",{className:"activity-details",children:[Object(C.jsxs)("div",{className:"flex activity-text-box-text",children:["user"===n?Object(C.jsx)(r.a.Fragment,{}):t?Object(C.jsx)(o.b,{to:"/board/".concat(t),children:a.fullName?a.fullName:"Guest "}):"".concat(a.fullName?a.fullName:"Guest"," "),Object(C.jsx)("span",{children:e.commentTxt?"commented:":""+e.txt}),e.commentTxt&&Object(C.jsx)("div",{children:e.commentTxt}),"card"!==n&&Object(C.jsxs)("span",{children:["in ",t?Object(C.jsx)(o.b,{to:"/board/".concat(t,"/").concat(e.card.id,"/"),children:e.card.title}):"".concat(e.card.title)]})]}),Object(C.jsx)("span",{children:Ot.a(e.createdAt)})]})]},e.id)}))})):Object(C.jsx)("div",{children:Object(C.jsx)(gt.a,{})})}var yt=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={txt:"",isEditing:!1},e.onChangeText=function(t){var n=t.target.value;e.setState({txt:n})},e.onSubmit=function(t){t.preventDefault(),e.state.txt&&(e.setNotEditing(),e.props.onUpdate(e.state.txt))},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.getIsEditing=function(){return e.state.isEditing?Object(C.jsx)("form",{onBlur:e.setNotEditing,onSubmit:e.onSubmit,children:Object(C.jsx)("input",{name:"header",type:"text",autoFocus:!0,value:e.state.txt,onChange:e.onChangeText})}):Object(C.jsx)("div",{onClick:e.setEditing,children:Object(C.jsx)("h2",{children:e.state.txt})})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.titleTxt;this.setState({txt:e})}},{key:"render",value:function(){return Object(C.jsx)("div",{children:this.getIsEditing()})}}]),n}(a.Component),wt=n(308),Ct=n(309),kt=n(310),Nt=n(311),St=n(312),Dt=n(315),At=n(95),Et=n.n(At),Bt=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={isDone:!1,isEditing:!1,txtValue:"",isNew:!1},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.removeText=function(){e.setState({txtValue:""})},e.getNewTodoDisplay=function(){return e.state.isEditing?Object(C.jsx)("form",{onBlur:e.setNotEditing,onSubmit:e.onSubmit,children:Object(C.jsx)("input",{className:"checkbox-text-edit",type:"text",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange})}):Object(C.jsxs)("button",{className:"flex checklist-add-todo",onClick:e.setEditing,children:[Object(C.jsx)(tt.a,{className:"add-icon"}),"Add an item"]})},e.getTodoClassName=function(){var t=e.state.isDone?"todo-done":"todo-not-done";return"flex justify-space-between checklist-todo-title ".concat(t)},e.getTextBox=function(){return e.state.isEditing?Object(C.jsx)(r.a.Fragment,{children:Object(C.jsxs)("form",{onBlur:e.setNotEditing,onSubmit:e.onSubmit,children:[Object(C.jsx)(Dt.a,{checked:e.state.isDone,onChange:e.onCheck,className:"checkbox-todo"}),Object(C.jsx)("input",{className:"checkbox-text-edit",type:"text",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange}),Object(C.jsx)("button",{className:"save-btn",type:"submit",children:"Save"})]})}):Object(C.jsx)(r.a.Fragment,{children:Object(C.jsxs)("div",{className:e.getTodoClassName(),onClick:e.setEditing,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)(Dt.a,{checked:e.state.isDone,onChange:e.onCheck,className:"checkbox-todo"}),e.state.txtValue]}),Object(C.jsx)(Ee.a,{onClick:e.onRemove,children:Object(C.jsx)(Et.a,{className:"trash-bin-icon"})})]})})},e.onSubmit=function(t){t.preventDefault(),e.updateChecklist()},e.updateTodo=function(){var t=e.props.todo;if(t){var n=t.title,a=t.isDone;e.setState({isDone:a,txtValue:n})}},e.onChange=function(t){e.setState({txtValue:t.target.value})},e.onCheck=function(t){var n=t.target.checked;e.setState({isDone:n},(function(){e.updateChecklist()}))},e.getActivityTxt=function(){return e.state.isDone?"completed ".concat(e.state.txtValue):"marked ".concat(e.state.txtValue," incomplete")},e.onRemove=function(t){t.stopPropagation(),e.setState({txtValue:""},e.updateChecklist)},e.updateChecklist=function(){var t={id:e.props.todo?e.props.todo.id:E.a.makeId(),isDone:e.state.isDone,title:e.state.txtValue},n=e.getActivityTxt();e.state.isNew?(e.props.onUpdate(t),e.setState({txtValue:""})):e.props.onUpdate(t,n)},e}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.title===this.props.title&&e.isDone===this.props.isDone||this.updateTodo()}},{key:"componentDidMount",value:function(){this.props.isNew&&this.setState({isNew:!0}),this.updateTodo()}},{key:"render",value:function(){return!this.props.displayCompleted&&this.state.isDone?Object(C.jsx)(r.a.Fragment,{}):Object(C.jsx)("div",{className:"checklist-todo",children:this.state.isNew?this.getNewTodoDisplay():this.getTextBox()})}}]),n}(a.Component),It=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={displayCompleted:!0,showDialog:!1,tasksCompleted:0,totalTasks:0},e.setTasksStatus=function(){var t=0,n=0;e.props.checklist.todos.forEach((function(e){e.isDone&&(t+=1),n+=1})),e.setState({tasksCompleted:t,totalTasks:n})},e.toggleDisplayCompleted=function(){return e.state.displayCompleted?e.setState({displayCompleted:!1}):e.setState({displayCompleted:!0})},e.getDisplayCheckedBtn=function(){return e.state.tasksCompleted?(t=e.state.displayCompleted?"Hide Completed Items":"Show Checked Items (".concat(e.state.tasksCompleted,")"),Object(C.jsx)("button",{onClick:e.toggleDisplayCompleted,children:t})):Object(C.jsx)(r.a.Fragment,{});var t},e.onRemoveChecklist=Object(S.a)(N.a.mark((function t(){var n,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=Object(d.a)({},e.props.checklist)).title="",a="removed ".concat(e.props.checklist.title),e.props.onUpdate(n,a),e.closeDialog();case 5:case"end":return t.stop()}}),t)}))),e.openDialog=function(){e.setState({showDialog:!0})},e.closeDialog=function(){e.setState({showDialog:!1})},e.getTotalTasks=function(e){return e.todos.length},e.getCompletedTasks=function(e){return e.todos.filter((function(e){return e.isDone})).length},e.getPercentCompleted=function(t){return 0==e.getTotalTasks(t)?100:Math.round(e.getCompletedTasks(t)/e.getTotalTasks(t)*100)},e.onUpdateChecklist=function(t,n){var a=Object(l.a)(e.props.checklist.todos),r=a.findIndex((function(e){return e.id===t.id}));t.title?r<0?a.push(t):a[r]=t:a.splice(r,1);var s=Object(d.a)({},e.props.checklist);s.todos=a,e.props.onUpdate(s,n)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setTasksStatus()}},{key:"componentDidUpdate",value:function(e,t){this.props.checklist!==e.checklist&&this.setTasksStatus()}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"flex justify-space-between",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)(Ze.a,{}),Object(C.jsx)("h3",{children:this.props.checklist.title})]}),Object(C.jsxs)("div",{children:[this.getDisplayCheckedBtn(),Object(C.jsx)("button",{className:"checklist-delete-button",onClick:this.openDialog,children:"Delete"})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:["%",this.getPercentCompleted(this.props.checklist)]}),Object(C.jsx)(wt.a,{value:this.getPercentCompleted(this.props.checklist),variant:"determinate"})]}),Object(C.jsxs)("main",{children:[this.props.checklist.todos.map((function(t){return Object(C.jsx)(Bt,{displayCompleted:e.state.displayCompleted,todo:t,onUpdate:e.onUpdateChecklist},t.id)})),Object(C.jsx)(Bt,{isNew:!0,onUpdate:this.onUpdateChecklist})]}),Object(C.jsxs)(Ae.a,{onClose:this.closeDialog,open:this.state.showDialog,children:[Object(C.jsx)(Ct.a,{id:"alert-dialog-title",children:"Remove this checklist?"}),Object(C.jsx)(kt.a,{children:Object(C.jsx)(Nt.a,{id:"alert-dialog-description",children:"Deleting a checklist is permanent."})}),Object(C.jsxs)(St.a,{children:[Object(C.jsx)(Ee.a,{onClick:this.closeDialog,color:"primary",children:"Disagree"}),Object(C.jsx)(Ee.a,{onClick:this.onRemoveChecklist,color:"primary",autoFocus:!0,children:"Agree"})]})]})]})}}]),n}(a.Component);function Tt(e){return e.checklists&&e.checklists.length?Object(C.jsx)("div",{className:"checklists-container",children:e.checklists.map((function(t){return Object(C.jsx)(It,{checklist:t,addActivity:e.addActivity,onUpdate:e.onUpdate},t.id)}))}):Object(C.jsx)(r.a.Fragment,{})}var Mt=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isEditing:!1,txtValue:""},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.onChange=function(t){e.setState({txtValue:t.target.value})},e.onSubmit=function(){var t=Object(S.a)(N.a.mark((function t(n){var a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.state.txtValue){t.next=3;break}return t.abrupt("return",e.setNotEditing());case 3:a={id:E.a.makeId(),title:e.state.txtValue,todos:[]},r="added the checklist ".concat(e.state.txtValue),e.props.onUpdate(a,r),e.setState({txtValue:""}),e.setNotEditing();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNewChecklistDisplay=function(){return e.state.isEditing?Object(C.jsxs)("form",{className:"new-checklist-form",onBlur:e.setNotEditing,onSubmit:e.onSubmit,children:[Object(C.jsx)("input",{className:"new-checklist-text",type:"text",autoFocus:!0,value:e.state.txtValue,onChange:e.onChange}),Object(C.jsx)("button",{className:"save-btn",onMouseDown:e.onSubmit,children:"Save"})]}):Object(C.jsxs)("button",{className:"flex",onClick:e.setEditing,children:[Object(C.jsx)(Ze.a,{}),Object(C.jsx)("span",{className:"sidebar-button-text",children:"New checklist"})]})},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:this.getNewChecklistDisplay()})}}]),n}(a.Component),Ut=n(164),Lt=n.n(Ut),Ft=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isModalShown:!1},e.onShowModal=function(){e.setState({isModalShown:!0})},e.onCloseModal=function(){e.setState({isModalShown:!1})},e.renderMemberList=function(t){return Object(C.jsxs)("div",{className:"members-container",children:[Object(C.jsx)("div",{className:"member-preview add-member-btn"+(e.props.showBig?" member-preview-big":""),onClick:function(){return e.onShowModal()},children:Object(C.jsx)(tt.a,{className:"members-list-add-button"})}),Object(C.jsx)("div",{className:"add-member-modal-container",children:e.state.isModalShown&&Object(C.jsx)(Oe,{onCloseModal:e.onCloseModal,allExistingUsers:e.props.allUsers,card:e.props.card,members:e.props.members})}),t.map((function(t){return Object(C.jsx)(ae,{name:t.fullName,imgUrl:t.imgUrl,showBig:e.props.showBig},t._id)}))]})},e.renderCardDetailsMemberList=function(t){return Object(C.jsxs)(C.Fragment,{children:[e.state.isModalShown&&Object(C.jsx)(Oe,{onCloseModal:e.onCloseModal,allExistingUsers:e.props.allUsers,card:e.props.card,members:t,onAddCardMember:e.props.onAddCardMember,onRemoveCardMember:e.props.onRemoveCardMember}),Object(C.jsxs)("button",{class:"flex sidebar-button",onClick:function(){return e.onShowModal()},children:[Object(C.jsx)(Lt.a,{}),Object(C.jsx)("span",{class:"sidebar-button-text",children:"Members"})]})]})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props.card?this.props.card.members:this.props.members;return e?this.props.card?this.renderCardDetailsMemberList(e):this.renderMemberList(e):Object(C.jsx)("h4",{children:"Loading..."})}}]),n}(a.Component),Pt=n(165),Rt=n.n(Pt),_t=n(75),Gt=n.n(_t),Jt=n(72),Vt=n.n(Jt);function zt(e){return Object(C.jsxs)("div",{className:"card-sidebar-container flex column",children:[Object(C.jsx)("h3",{children:"Add to card"}),Object(C.jsxs)("div",{className:"card-sidebar flex",children:[Object(C.jsx)(Ft,{members:e.card.members,onAddCardMember:e.onAddCardMember,onRemoveCardMember:e.onRemoveCardMember,allUsers:e.allUsers,card:e.card,showBig:!0}),Object(C.jsxs)("button",{className:"flex sidebar-button",onClick:e.toggleLabelPalette,children:[Object(C.jsx)(Rt.a,{}),Object(C.jsx)("span",{className:"sidebar-button-text",children:"Labels"})]}),Object(C.jsx)(Mt,{addActivity:e.addActivity,onUpdate:e.onUpdateChecklists}),Object(C.jsx)(De,{dueDate:e.dueDate,onUpdateDueDate:e.onUpdateDueDate,alwaysShowButton:!0}),e.isUploading?Object(C.jsx)("button",{disabled:!0,children:Object(C.jsx)(gt.a,{size:"14px"})}):Object(C.jsxs)("button",{className:"flex",onClick:e.toggleUploadDropzone,children:[Object(C.jsx)(Vt.a,{}),Object(C.jsx)("span",{children:"Attachment"})]}),!e.card.cover&&Object(C.jsxs)("button",{className:"sidebar-button",ref:e.anchorRef,onClick:e.toggleCoverSelector,children:[Object(C.jsx)(Gt.a,{}),Object(C.jsx)("span",{children:"Cover"})]})]})]})}var Wt=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isEditing:!1,att:null,title:""},e.updateAttFromProps=function(){var t=Object(d.a)({},e.props.attachment),n=e.props.attachment.title;e.setState({att:t,title:n})},e.setEditing=function(t){return t?e.setState({isEditing:!0}):e.setState({isEditing:!1})},e.onChange=function(t){e.setState({title:t.target.value})},e.onRemove=function(t){e.setState({title:""},(function(){e.updateCard().then((function(){e.setState({att:null})}))}))},e.onSubmit=function(t){t.preventDefault(),e.updateCard()},e.updateCard=function(){return new Promise((function(t){var n=Object(d.a)({},e.state.att);n.title=e.state.title,e.props.onUpdate(n),e.setEditing(!1),t()}))},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.updateAttFromProps()}},{key:"componentDidUpdate",value:function(e,t){this.props.attachment!==e.attachment&&this.updateAttFromProps(),this.state.att,t.att}},{key:"render",value:function(){var e=this,t=this.state.att;return t?Object(C.jsxs)("div",{className:"card-attachment flex",children:[Object(C.jsx)("div",{className:"att-image",style:{backgroundImage:"url(".concat(t.src,")")}}),Object(C.jsxs)("div",{className:"att-details-container",children:[Object(C.jsx)("div",{className:"att-title",children:this.state.isEditing?Object(C.jsx)("form",{onSubmit:this.onSubmit,onBlur:function(){e.setEditing(!1)},children:Object(C.jsx)("input",{autoFocus:!0,onChange:this.onChange,type:"text",value:this.state.title,required:!0})}):Object(C.jsx)("h5",{onClick:function(){e.setEditing(!0)},children:this.state.title})}),Object(C.jsx)("div",{className:"att-date-added",children:Ot.a(t.createdAt)})]}),Object(C.jsx)("div",{className:"att-remove",children:Object(C.jsx)(V.a,{onClick:this.onRemove,children:Object(C.jsx)(Et.a,{})})})]}):Object(C.jsx)(r.a.Fragment,{})}}]),n}(a.Component);function Ht(e){return console.log(e),e.attachments?Object(C.jsxs)("div",{className:"card-attachments-container",children:[Object(C.jsx)("h3",{children:"Attachments"}),e.attachments.map((function(t){return Object(C.jsx)(Wt,{onUpdate:e.onUpdate,attachment:t},t.id)}))]}):Object(C.jsx)(r.a.Fragment,{})}var Kt={uploadImg:function(e){return Yt.apply(this,arguments)}};function Yt(){return(Yt=Object(S.a)(N.a.mark((function e(t){var n,a,r,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dahthio8n",n="https://api.cloudinary.com/v1_1/".concat("dahthio8n","/image/upload"),a=new FormData,console.log(t),a.append("file",t),a.append("upload_preset","ml_default"),e.prev=6,e.next=9,fetch(n,{method:"POST",body:a});case 9:return r=e.sent,e.next=12,r.json();case 12:return s=e.sent,console.log(s),e.abrupt("return",s.secure_url);case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}var qt=n(182),Zt=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={item:null},e.uploadImg=function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setUploading();case 2:return t.next=4,Kt.uploadImg(n);case 4:a=t.sent,e.setState({item:a},e.submitImage);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.submitImage=Object(S.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.item){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.props.onAddImage(e.state.item);case 4:e.setState({item:null});case 5:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(n,[{key:"handleChange",value:function(e){this.uploadImg(e[0])}},{key:"render",value:function(){var e=this;return Object(C.jsx)(qt.a,{acceptedFiles:["image/*"],cancelButtonText:"cancel",submitButtonText:"submit",maxFileSize:512e3,open:this.props.isOpen,onClose:function(){return e.props.toggleOpen()},onSave:function(t){e.handleChange(t),e.props.toggleOpen()},showPreviews:!0,showFileNamesInPreview:!1})}}]),n}(a.Component),Xt=n(173),Qt=n.n(Xt),$t=n(174),en=n.n($t),tn=n(172),nn=n.n(tn),an=n(313),rn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={cover:null},e.setCoverFromProps=function(){var t=e.props.card.cover;t||(t={id:null,value:null}),e.setState({cover:t})},e.colors=[{id:101,value:"#cd9fcb"},{id:102,value:"#a7ead1"},{id:103,value:"#ffb787"},{id:104,value:"#f6c1d2"},{id:105,value:"#fd7967"},{id:106,value:"#8f79a8"},{id:107,value:"#b5daf6"},{id:108,value:"#a7a7a7"},{id:109,value:"#ab8597"}],e.onSelectCover=function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={id:n.id,color:n.value,src:n.src},e.setState({cover:a},e.props.onUpdate(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemoveCover=function(){e.setState({cover:null},(function(){console.log(e.state.cover),e.props.onUpdate(e.state.cover)}))},e.getImageEls=function(){var t=e.props.card.attachments;if(!t)return Object(C.jsx)(r.a.Fragment,{});var n=t.map((function(t){var n="single-image-choice";return e.state.cover.id===t.id&&(n+=" selected"),Object(C.jsx)("div",{className:n,onClick:function(){return e.onSelectCover(t)},style:{backgroundImage:"url(".concat(t.src,")")}},t.id)}));return Object(C.jsxs)(r.a.Fragment,{children:[Object(C.jsx)("h6",{children:"Images"}),Object(C.jsx)("div",{className:"image-choice",children:n})]})},e.getColorEls=function(){return e.colors.map((function(t){var n="color-choice";return e.state.cover.id===t.id&&(n+=" selected"),Object(C.jsx)("div",{className:n,onClick:function(){return e.onSelectCover(t)},style:{backgroundColor:t.value}},t.id)}))},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setCoverFromProps()}},{key:"render",value:function(){return this.state.cover?Object(C.jsx)(xe.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},open:!0,anchorEl:this.props.anchorEl.current,onClose:this.props.toggleList,onBackdropClick:this.props.toggleList,children:Object(C.jsxs)("div",{className:"cover-selector-container",children:[Object(C.jsxs)("div",{className:"cover-selector-header flex justify-center",children:[Object(C.jsx)("h5",{children:"Cover"}),Object(C.jsx)(an.a,{className:"close-cover-modal",onClick:this.props.toggleList})]}),Object(C.jsxs)("div",{className:"cover-selector-colors",children:[Object(C.jsx)("h6",{children:"Colors"}),Object(C.jsx)("div",{className:"color-selection",children:this.getColorEls()})]}),Object(C.jsx)("div",{className:"cover-selector-images",children:this.getImageEls()}),Object(C.jsx)("div",{className:"cover-remove-container",children:Object(C.jsx)("button",{className:"cancel-btn",onClick:this.onRemoveCover,children:"Remove Cover"})})]})}):Object(C.jsx)(r.a.Fragment,{})}}]),n}(a.Component),sn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={card:null,groupId:null,groupName:null,commentsOnly:!1,isLabelPaletteShowing:!1,isCoverSelectorShown:!1,isUploading:!1,isUploadZoneOpen:!1},e.ref=r.a.createRef(),e.getCardDetails=function(){console.log("Get card details "+e.props.cardId);var t=!1;e.props.board.groups.forEach((function(n){n.cards.forEach((function(a){if(a.id===e.props.cardId){var r=n.id,s=n.title;return t=!0,console.log("Found card "+e.props.cardId),void e.setState({groupId:r,groupName:s,card:a})}}))})),t||console.log("Could not find card")},e.toggleCoverSelector=function(){return e.state.isCoverSelectorShown?e.setState({isCoverSelectorShown:!1}):e.setState({isCoverSelectorShown:!0})},e.onCloseCard=function(){e.props.history.push("/board/".concat(e.props.board._id))},e.submitCard=function(t,n){return new Promise((function(a){e.props.updateCard(e.props.board,t,n).then((function(){return a()}))}))},e.onUpdateDesc=function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=Object(d.a)({},e.state.card)).description=n,e.setState({card:a},Object(S.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.createActivity("updated the description"),e.submitCard(a,n);case 2:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUpdateCover=function(t){var n=Object(d.a)({},e.state.card);n.cover=t,e.setState({card:n},Object(S.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.createActivity("updated the cover"),e.submitCard(n,a);case 2:case"end":return t.stop()}}),t)}))))},e.onAddCardMember=function(t){var n=JSON.parse(JSON.stringify(e.state.card.members));n.unshift(t),e.onChangeMembers(n,"added a member")},e.onRemoveCardMember=function(t){var n=JSON.parse(JSON.stringify(e.state.card.members));n=n.filter((function(e){return e._id!=t._id})),e.onChangeMembers(n,"removed a member")},e.onChangeMembers=function(t,n){var a=Object(d.a)({},e.state.card);a.members=t,console.log(t),e.setState({card:a},(function(){var t=e.createActivity(n);e.submitCard(a,t)}))},e.getCardCover=function(){var t=e.state.card.cover;return t?t.src?Object(C.jsxs)("div",{className:"card-details-cover-image",style:{backgroundImage:"url(".concat(t.src,")")},children:[t&&Object(C.jsx)(V.a,{onClick:e.onCloseCard,"aria-label":"close",className:"card-details-cover-modal-close",children:Object(C.jsx)(at.a,{})}),t&&Object(C.jsxs)("button",{className:"sidebar-button-with-cover",ref:e.ref,onClick:e.toggleCoverSelector,children:[Object(C.jsx)(Gt.a,{}),Object(C.jsx)("span",{children:"Cover"})]})]}):Object(C.jsxs)("div",{className:"card-details-cover-color",style:{backgroundColor:t.color},children:[t&&Object(C.jsx)(V.a,{onClick:e.onCloseCard,"aria-label":"close",className:"card-details-cover-modal-close",children:Object(C.jsx)(at.a,{})}),t&&Object(C.jsxs)("button",{className:"sidebar-button-with-cover",ref:e.ref,onClick:e.toggleCoverSelector,children:[Object(C.jsx)(Gt.a,{}),Object(C.jsx)("span",{children:"Cover"})]})]}):Object(C.jsx)(r.a.Fragment,{})},e.onAddComment=function(t){var n={txt:"",commentTxt:t,card:{id:e.state.card.id,title:e.state.card.title}},a=D.a.createActivity(n);e.props.addActivity(e.props.board,a)},e.createActivity=function(t){var n={txt:t,commentTxt:"",card:{id:e.state.card.id,title:e.state.card.title}};return console.log("CREATING ACTIVITY FOR CARD "+JSON.stringify(n)),D.a.createActivity(n)},e.toggleCommentsOnly=function(){return e.state.commentsOnly?e.setState({commentsOnly:!1}):e.setState({commentsOnly:!0})},e.getFilteredActivities=function(){var t=e.state.card,n=e.props.board.activities;if(!n)return[];var a=n.filter((function(e){return e.card.id===t.id}));return e.state.commentsOnly&&(a=a.filter((function(e){if(console.log(JSON.stringify(e)),e.commentTxt)return e}))),a},e.onUpdateTitle=function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=Object(d.a)({},e.state.card)).title=n,e.setState({card:a},Object(S.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.createActivity("updated the title"),e.submitCard(a,n);case 2:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUpdateDueDate=function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=Object(d.a)({},e.state.card)).dueDate=n,e.setState({card:a},Object(S.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.createActivity("updated due date"),t.next=3,e.submitCard(a,n);case 3:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUpdateChecklists=function(t,n){var a=Object(d.a)({},e.state.card);a.checklists||(a.checklists=[]),a.checklists.findIndex((function(e){return e.id===t.id}))>=0?a.checklists=a.checklists.map((function(e){return e.id===t.id?t:e})):a.checklists.push(t),a.checklists=a.checklists.filter((function(e){if(e.title)return e})),e.setState({card:a},(function(){if(n){var t=e.createActivity(n);e.submitCard(a,t)}else e.submitCard(a)}))},e.getLabels=function(){var t=e.state.card.labels;return t&&t.length?Object(C.jsxs)("div",{className:"card-details-label-container",children:[Object(C.jsx)("h4",{children:"Labels"}),Object(C.jsx)(Je,{onClickLabel:e.openEditLabelsModal,cardLabels:t,boardLabels:e.props.board.labels,preview:!1})]}):Object(C.jsx)(r.a.Fragment,{})},e.toggleLabelPalette=function(){e.setState({isLabelPaletteShowing:!e.state.isLabelPaletteShowing})},e.renderAttachments=function(e){return Object(C.jsxs)("div",{children:[Object(C.jsx)("section",{class:"flex justify-space-between",children:Object(C.jsxs)("div",{class:"flex",children:[Object(C.jsx)(nn.a,{}),Object(C.jsx)("h3",{children:"Attachments"})]})}),Object(C.jsx)("img",{className:"card-details-img-attach",src:e})]})},e.setUploading=function(){return new Promise((function(t){e.setState({isUploading:!0},t(!0))}))},e.onAddImage=function(t){var n=D.a.createImage(t),a=Object(d.a)({},e.state.card);a.attachments||(a.attachments=[]),a.attachments.push(n);var r=e.createActivity("added an image");e.setState({card:a},Object(S.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.submitCard(a,r);case 2:e.setState({isUploading:!1});case 3:case"end":return t.stop()}}),t)}))))},e.onUpdateAttachments=function(){var t=Object(S.a)(N.a.mark((function t(n){var a,r,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object(d.a)({},e.state.card),r=a.attachments.findIndex((function(e){return e.id===n.id})),n.title.length?a.attachments[r]=n:a.attachments.splice(r,1),s=n.title.length?e.createActivity("edited the title of an image"):e.createActivity("removed an image"),e.setState({card:a},(function(){e.submitCard(a,s)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleUploadDropzone=function(){return e.state.isUploadZoneOpen?e.setState({isUploadZoneOpen:!1}):e.setState({isUploadZoneOpen:!0})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("Did mount boardId: "+this.props.boardId+" cardId"+this.props.cardId),this.props.boardId&&this.props.cardId&&this.props.loadBoard(this.props.boardId).then((function(){console.log("After then"),e.getCardDetails()}))}},{key:"componentDidUpdate",value:function(e,t){e.cardId!==this.props.cardId&&this.getCardDetails()}},{key:"render",value:function(){return this.state.card?Object(C.jsx)("section",{className:"card-details-modal flex column",children:Object(C.jsxs)("div",{className:"modal-content",children:[this.getCardCover(),Object(C.jsxs)("div",{className:"card-details-modal-container",children:[Object(C.jsxs)("div",{className:"card-modal-title flex justify-space-between",children:[Object(C.jsxs)("div",{className:"card-details-title flex",children:[Object(C.jsx)(Qt.a,{}),Object(C.jsxs)("div",{children:[Object(C.jsx)(yt,{titleTxt:this.state.card.title,onUpdate:this.onUpdateTitle}),Object(C.jsx)("div",{className:"in-list",children:Object(C.jsxs)("span",{className:"group-name",children:["in list ",Object(C.jsx)("u",{children:this.state.groupName})]})})]})]}),!this.state.card.cover&&Object(C.jsx)(V.a,{onClick:this.onCloseCard,"aria-label":"close",id:"modal-close",className:"modal-close",children:Object(C.jsx)(at.a,{})})]}),Object(C.jsxs)("div",{className:"flex justify-space-between modal-content-wrapper",children:[Object(C.jsxs)("section",{className:"main-modal-section",children:[Object(C.jsxs)("div",{className:"card-details-data",children:[this.getLabels(),this.state.card.dueDate?Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:"Due Date"}),Object(C.jsx)(De,{onUpdateDueDate:this.onUpdateDueDate,dueDate:this.state.card.dueDate,displayDate:!0,displayTime:!0})]}):Object(C.jsx)(r.a.Fragment,{})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ht,{onUpdate:this.onUpdateAttachments,attachments:this.state.card.attachments}),Object(C.jsx)(ht,{onUpdateDesc:this.onUpdateDesc,description:this.state.card.description}),Object(C.jsx)(Tt,{checklists:this.state.card.checklists,onUpdate:this.onUpdateChecklists}),Object(C.jsx)(Zt,{onAddImage:this.onAddImage,setUploading:this.setUploading,toggleOpen:this.toggleUploadDropzone,isOpen:this.state.isUploadZoneOpen})]})]}),Object(C.jsx)(zt,{anchorRef:this.ref,ref:this.ref,addActivity:this.createActivity,isUploading:this.state.isUploading,toggleCoverSelector:this.toggleCoverSelector,toggleUploadDropzone:this.toggleUploadDropzone,toggleDisplayMembers:this.toggleDisplayMembers,dueDate:this.state.card.dueDate,toggleLabelPalette:this.toggleLabelPalette,onUpdateDueDate:this.onUpdateDueDate,onArchiveCard:this.onArchiveCard,onUpdateChecklists:this.onUpdateChecklists,members:this.state.card.members,onAddCardMember:this.onAddCardMember,onRemoveCardMember:this.onRemoveCardMember,allUsers:this.props.allUsers,card:this.state.card})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("section",{className:"flex justify-space-between",children:[Object(C.jsxs)("div",{className:"flex modal-activity-title",children:[Object(C.jsx)(en.a,{}),Object(C.jsx)("h3",{children:"Activity"})]}),Object(C.jsx)("button",{onClick:this.toggleCommentsOnly,children:this.state.commentsOnly?"Show Details":"Hide Details"})]}),Object(C.jsx)(vt,{onAddComment:this.onAddComment}),Object(C.jsx)(xt,{boardId:this.props.board._id,displayMode:"card",activities:this.getFilteredActivities()})]}),Object(C.jsx)(xe.a,{anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"left"},open:this.state.isLabelPaletteShowing,anchorEl:this.ref.current,onClose:this.toggleLabelPalette,onBackdropClick:this.toggleLabelPalette,children:Object(C.jsx)(te,{createActivity:this.createActivity,card:this.state.card})}),this.state.isCoverSelectorShown&&Object(C.jsx)(rn,{card:this.state.card,anchorEl:this.ref,onUpdate:this.onUpdateCover,toggleList:this.toggleCoverSelector})]})]})}):""}}]),n}(a.Component),cn={loadBoard:I,updateCard:F,addActivity:P},on=Object(i.b)((function(e){return{board:e.boardModule.currBoard,allUsers:e.userModule.users,members:e.boardModule.currBoard.members}}),cn)(Object(i.b)(j.f)(sn)),ln=n(175),dn=n.n(ln),un=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={txt:"",isEditing:!1},e.onChangeText=function(t){var n=t.target.value;e.setState({txt:n})},e.onSubmit=function(t){t.preventDefault(),e.state.txt&&(e.setNotEditing(),e.props.onUpdate(e.state.txt))},e.setEditing=function(){e.setState({isEditing:!0})},e.setNotEditing=function(){e.setState({isEditing:!1})},e.getIsEditing=function(){return e.state.isEditing?Object(C.jsx)("form",{onBlur:e.setNotEditing,onSubmit:e.onSubmit,children:Object(C.jsx)("input",{name:"header",type:"text",autoFocus:!0,value:e.state.txt,onChange:e.onChangeText})}):Object(C.jsx)("div",{onClick:e.setEditing,children:Object(C.jsx)("h2",{className:"proj-title btn",children:e.state.txt})})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.titleTxt;this.setState({txt:e})}},{key:"componentDidUpdate",value:function(e,t){e.titleTxt!=this.props.titleTxt&&this.setState({txt:this.props.titleTxt})}},{key:"render",value:function(){return Object(C.jsx)("div",{children:this.getIsEditing()})}}]),n}(a.Component),pn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onUpdateBoardTitle=function(t){e.props.updateBoardTitle(e.props.board,t)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"board-header-container flex justify-space-between wrap",children:[Object(C.jsxs)("div",{className:"board-nav-left flex align-center",children:[Object(C.jsx)(un,{titleTxt:this.props.board.title,onUpdate:this.onUpdateBoardTitle}),Object(C.jsx)("div",{className:"members-container",children:Object(C.jsx)(Ft,{members:this.props.members,allUsers:this.props.allUsers})}),Object(C.jsxs)("div",{className:"btn",children:[Object(C.jsx)("span",{className:"material-icons",children:"person_add"}),"Invite"]})]}),Object(C.jsxs)("div",{className:"board-nav-right flex ",children:[Object(C.jsx)("button",{className:"notification-icon flex",children:Object(C.jsx)(dn.a,{})}),Object(C.jsxs)("button",{onClick:function(){return e.props.onToggleSidebar(!0)},children:[Object(C.jsx)("span",{className:"material-icons",children:"more_horiz"}),"Show menu"]})]})]})}}]),n}(a.Component),bn={loadAllUsers:me,updateBoardTitle:function(e,t){return function(){var n=Object(S.a)(N.a.mark((function n(a){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=JSON.parse(JSON.stringify(e))).title=t,a({type:"SET_BOARD",board:r}),n.next=5,D.a.updateBoard(r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},hn=Object(i.b)((function(e){return{board:e.boardModule.currBoard,allUsers:e.userModule.users}}),bn)(pn),jn=n(176),mn=n.n(jn),fn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={colorSelected:""},e.colorSelected=function(t){if(e.state.colorSelected!==t){e.setState({colorSelected:t});var n=e.props.board;n.style.bgImg=null,n.style.boardColor=t,e.props.style.bgImg=null,e.props.style.boardColor=t,e.props.updateBoard(n)}},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)("section",{className:"image-gallery",children:["rgb(0, 121, 191)","rgb(210, 144, 52)","rgb(81, 152, 57)","rgb(176, 70, 50)","rgb(137, 96, 158)","rgb(205, 90, 145)","rgb(75, 191, 107)","rgb(0, 174, 204)","rgb(131, 140, 145)"].map((function(t){return Object(C.jsx)("div",{className:"image",onClick:function(){e.colorSelected(t)},style:{backgroundColor:t}})}))})}}]),n}(a.Component),vn={setStyle:M,updateBoard:U},gn=Object(i.b)((function(e){return{board:e.boardModule.currBoard,style:e.boardModule.style}}),vn)(fn),On=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={imgSelected:""},e.imgSelected=function(t){if(e.state.imgSelected!==t){e.setState({imgSelected:t});var n=e.props.board;n.style.bgImg=t,e.props.style.bgImg=t,e.props.updateBoard(n)}},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)("section",{className:"image-gallery",children:["url(http://avante.biz/wp-content/uploads/Tab-HD-Wallpapers/Tab-HD-Wallpapers-001.jpg)","url(http://avante.biz/wp-content/uploads/Wonderful-Desktop-Wallpapers/Wonderful-Desktop-Wallpapers-005.jpg","url(http://avante.biz/wp-content/uploads/Wonderful-Desktop-Wallpapers/Wonderful-Desktop-Wallpapers-014.jpg)","url(http://avante.biz/wp-content/uploads2/Summer-Nature-Desktop-HD-1/Summer-Nature-Desktop-HD-8.jpg)","url(http://avante.biz/wp-content/uploads2/Summer-Nature-Desktop-HD-1/Summer-Nature-Desktop-HD-1.jpg)","url(http://avante.biz/wp-content/uploads/Wonderful-Desktop-Wallpapers/Wonderful-Desktop-Wallpapers-033.jpg)","url(http://avante.biz/wp-content/uploads/Wonderful-Desktop-Wallpapers/Wonderful-Desktop-Wallpapers-010.jpg)","url(http://avante.biz/wp-content/uploads2/Summer-Nature-Desktop-HD-1/Summer-Nature-Desktop-HD-6.jpg)","url(http://avante.biz/wp-content/uploads/Wonderful-Desktop-Wallpapers/Wonderful-Desktop-Wallpapers-032.jpg)","url(http://avante.biz/wp-content/uploads/Outer-space-wallpaper-for-mac/Outer-space-wallpaper-for-mac15.jpg)","url(http://avante.biz/wp-content/uploads/Outer-space-wallpaper-for-mac/Outer-space-wallpaper-for-mac13.jpg)","url(http://avante.biz/wp-content/uploads2/Autumn-Street-Wallpapers-Desktop-1/Autumn-Street-Wallpapers-Desktop-45.jpg)"].map((function(t){return Object(C.jsx)("div",{className:"image",onClick:function(){e.imgSelected(t)},style:{backgroundImage:t}},t)}))})}}]),n}(a.Component),xn={setStyle:M,updateBoard:U},yn=Object(i.b)((function(e){return{board:e.boardModule.currBoard,style:e.boardModule.style}}),xn)(On),wn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={chooseBackground:""},e.onSelect=function(t){e.setState({chooseBackground:t}),console.log(t)},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("section",{className:"change-background-container",children:[Object(C.jsx)("hr",{className:"side-menu-divider"}),""===this.state.chooseBackground&&Object(C.jsxs)("div",{className:"change-backgrounds-inier-container",children:[Object(C.jsxs)("div",{className:"board-backgrounds-section-tile board-backgrounds-photos-tile",onClick:function(){e.onSelect("Photos")},children:[Object(C.jsx)("div",{className:"image"}),Object(C.jsx)("div",{className:"title",children:"Photos"})]}),Object(C.jsxs)("div",{className:"board-backgrounds-section-tile board-backgrounds-colors-tile",onClick:function(){e.onSelect("Colors")},children:[Object(C.jsx)("div",{className:"image"}),Object(C.jsx)("div",{className:"title",children:"Colors"})]})]}),"Photos"===this.state.chooseBackground&&Object(C.jsx)(yn,{}),"Colors"===this.state.chooseBackground&&Object(C.jsx)(gn,{})]})}}]),n}(a.Component),Cn=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),{})(wn),kn=n(96),Nn=n.n(kn),Sn=n(177),Dn=n.n(Sn),An=n(178),En=n.n(An),Bn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={sideBarTitle:""},e.titleClicked=function(t){e.setState({sideBarTitle:t})},e.DynamicCmp=function(){switch(e.state.sideBarTitle){case"Change background":return Object(C.jsx)(Cn,{});case null:default:return Object(C.jsx)(r.a.Fragment,{})}},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({sideBarTitle:"Menu"});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"side-bar-container flex column align-center",children:[console.log("side bar in"),Object(C.jsxs)("div",{className:"side-bar-header flex align-center",children:["Menu"!==this.state.sideBarTitle&&Object(C.jsx)("button",{className:"Navigat-side-bar",onClick:function(){e.titleClicked("Menu")},children:Object(C.jsx)(mn.a,{})}),Object(C.jsx)("h3",{className:"menu-title",children:this.state.sideBarTitle}),Object(C.jsx)("button",{className:"close-side-bar",onClick:function(){e.props.onToggleSidebar(!1)},children:Object(C.jsx)(at.a,{})})]}),Object(C.jsxs)("div",{className:"side-bar-inside-container",children:["Menu"===this.state.sideBarTitle&&Object(C.jsxs)("div",{className:"side-bar-inside-menu-container",children:[Object(C.jsx)("hr",{className:"side-menu-divider"}),Object(C.jsxs)("ul",{className:"side-menu-list clean-list",children:[Object(C.jsxs)("li",{onClick:function(){e.titleClicked("About this board")},children:[Object(C.jsx)("span",{children:Object(C.jsx)(Nn.a,{})}),"About this board"]}),Object(C.jsxs)("li",{onClick:function(){e.titleClicked("Change background")},children:[Object(C.jsx)("span",{children:Object(C.jsx)(Dn.a,{})}),"Change background"]}),Object(C.jsxs)("li",{onClick:function(){e.titleClicked("Board analysis")},children:[Object(C.jsx)("span",{children:Object(C.jsx)(En.a,{})}),"Board analysis"]})]}),Object(C.jsx)("hr",{className:"side-menu-divider"})]}),this.DynamicCmp()]})]})}}]),n}(a.Component),In=Object(i.b)((function(e){return{board:e.boardModule.currBoard,allUsers:e.userModule.users}}),{})(Bn),Tn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={lastReceivedUpdateAt:"",isSidebarShowing:!1},e.onAddGroup=function(e){return e},e.onToggleSidebar=function(t){e.setState({isSidebarShowing:t})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.boardId,A.a.setup(),e.next=4,this.props.loadBoard(t);case 4:this.props.setStyle(this.props.board.style),this.props.loadAllUsers();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.board;return Object(C.jsx)(r.a.Fragment,{children:Object(C.jsxs)("div",{className:"board-app board-container flex column",children:[this.props.match.params.cardId?Object(C.jsx)(on,{cardId:this.props.match.params.cardId,boardId:this.props.match.params.boardId,history:this.props.history}):Object(C.jsx)("div",{}),Object(C.jsx)(hn,{title:e.title,members:e.members,onToggleSidebar:this.onToggleSidebar,style:e.style,users:this.props.allUsers,lastUpdate:this.state.lastReceivedUpdateAt}),this.state.isSidebarShowing&&Object(C.jsx)(In,{onToggleSidebar:this.onToggleSidebar}),Object(C.jsx)(ut,{groups:this.props.board.groups,onAddGroup:this.onAddGroup,history:this.props.history,style:e.style})]})})}}]),n}(a.Component);var Mn={loadBoard:I,onRemoveGroup:L,updateBoard:U,loadAllUsers:me,setStyle:M},Un=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),Mn)(Tn),Ln=n(179),Fn=n.n(Ln);function Pn(e){var t=e.board,n=e.board.style.bgImg,a=e.board.style.boardColor;return Object(C.jsx)(o.b,{to:"/board/".concat(t._id),children:Object(C.jsx)("div",{className:"template board",style:n?{backgroundImage:n}:{backgroundColor:a},children:Object(C.jsx)("span",{className:"board-title-preview",children:t.title})})})}var Rn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"new-board-color ".concat(this.props.isSelected?"colorSelected":""),style:{backgroundColor:"".concat(this.props.color)},onClick:function(){return e.props.onSetColor(e.props.color)}})}}]),n}(a.Component),_n=[{id:"bc101",name:"green",color:"#519839"},{id:"bc102",name:"yellow",color:"#D29034"},{id:"bc103",name:"blue",color:"#0079BF"},{id:"bc104",name:"brown",color:"#B04632"},{id:"bc105",name:"purple",color:"#89609E"},{id:"bc106",name:"pink",color:"#CD5A91"},{id:"bc107",name:"lightGreen",color:"#4BBF6B"},{id:"bc108",name:"teal",color:"#49A9D7"}],Gn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selectedColor:null,newBoardName:""},e.onSetColor=function(t){e.setState({selectedColor:t})},e.handleChange=function(t){e.setState({newBoardName:t.target.value})},e.onSubmit=function(){var e=Object(S.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({selectedColor:null,newBoardName:""})}},{key:"isSelected",value:function(e){return this.state.selectedColor===e}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"create-new-board",children:[Object(C.jsxs)("div",{className:"notification-preview-header",children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{children:Object(C.jsx)("h6",{children:"Create Board"})}),Object(C.jsx)(V.a,{onClick:this.props.onCloseModal,children:Object(C.jsx)(an.a,{style:{color:"rgb(54, 52, 52)"}})})]}),Object(C.jsx)("input",{onChange:this.handleChange,type:"text",placeholder:"New Board's Name",autoFocus:!0}),Object(C.jsx)("div",{className:"new-board-colors-container",children:_n.map((function(t){return Object(C.jsx)(Rn,{color:t.color,onSetColor:e.onSetColor,isSelected:e.isSelected(t.color)},t.id)}))}),Object(C.jsx)("button",{onClick:this.onSubmit,children:"Add New Board"})]})}}]),n}(a.Component),Jn={addNewBoard:T,loadBoard:I,setDefaultStyle:function(){return function(){var e=Object(S.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_DEFAULT_STYLE"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Vn=Object(i.b)((function(e){return{board:e.boardModule.currBoard}}),Jn)(Gn),zn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isCreateBoardOpen:!1},e.onRedirect=function(t){e.onCloseCreateBoard(),e.props.history.push("/board/".concat(t))},e.openNewBoardModal=function(){e.setState({isCreateBoardOpen:!0})},e.onCloseCreateBoard=function(){e.setState({isCreateBoardOpen:!1})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadBoards();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fn",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.boards;return Object(C.jsx)("section",{className:"boards-page-bg flex column ",children:Object(C.jsxs)("div",{className:"main-boards",children:[Object(C.jsx)("div",{className:"flex justify-space-between align-center",children:Object(C.jsx)("h3",{children:"Your Boards"})}),Object(C.jsxs)("section",{className:"select-board-container flex wrap",children:[Object(C.jsx)("div",{className:"create-new-board",onClick:function(){e.openNewBoardModal()},children:Object(C.jsxs)("div",{className:"new-board-text flex align-center",children:[Object(C.jsx)(Fn.a,{}),Object(C.jsx)("p",{children:"Create new board"})]})}),this.state.isCreateBoardOpen&&Object(C.jsx)(Vn,{onCloseModal:this.onCloseCreateBoard,redirectPath:this.onRedirect}),t.map((function(e){return Object(C.jsx)(Pn,{board:e},e._id)}))]}),Object(C.jsx)("h3",{className:"popular-title",children:"Popular templates"}),Object(C.jsxs)("section",{className:"select-board-container flex wrap",children:[Object(C.jsx)("div",{className:"template",style:{backgroundImage:"url(http://avante.biz/wp-content/uploads/Tab-HD-Wallpapers/Tab-HD-Wallpapers-004.jpg)"},children:Object(C.jsx)("span",{children:"Template"})}),Object(C.jsx)("div",{className:"template",style:{backgroundImage:"url(http://avante.biz/wp-content/uploads2/Autumn-City-Wallpapers-for-desktop-1/Autumn-City-Wallpapers-for-desktop-74.jpg)"},children:Object(C.jsx)("span",{children:"Template"})}),Object(C.jsx)("div",{className:"template",style:{backgroundImage:"url(http://avante.biz/wp-content/uploads/Tab-HD-Wallpapers/Tab-HD-Wallpapers-027.jpg)"},children:Object(C.jsx)("span",{children:"Template"})}),Object(C.jsx)("div",{className:"template",style:{backgroundImage:"url(http://avante.biz/wp-content/uploads2/Autumn-City-Wallpapers-for-desktop-1/Autumn-City-Wallpapers-for-desktop-11.jpg)"},children:Object(C.jsx)("span",{children:"Template"})}),Object(C.jsx)("div",{className:"template",style:{backgroundImage:"url(http://avante.biz/wp-content/uploads2/Autumn-City-Wallpapers-for-desktop-1/Autumn-City-Wallpapers-for-desktop-2.jpg)"},children:Object(C.jsx)("span",{children:"Template"})}),Object(C.jsx)("div",{className:"template",style:{backgroundImage:"url(https://picsum.photos/195/95?random=2)"},children:Object(C.jsx)("span",{children:"Template"})}),Object(C.jsx)("div",{className:"template",style:{backgroundImage:"url(https://picsum.photos/195/95?random=1)"},children:Object(C.jsx)("span",{children:"Template"})})]})]})})}}]),n}(a.Component);var Wn={loadBoards:function(){return function(){var e=Object(S.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.query();case 3:n=e.sent,t({type:"SET_BOARDS",boards:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ReviewActions: err in loadBoard",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},removeBoard:function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.remove(e);case 3:n({type:"REMOVE_REVIEW",boardId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("ReviewActions: err in removeBoard",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},addNewBoard:T},Hn=[{path:"/board/:boardId/card/:cardId",component:Un},{path:"/board/:boardId",component:Un},{path:"/board",component:Object(i.b)((function(e){return{boards:e.boardModule.boards}}),Wn)(zn)},{path:"/",component:function(){return Object(C.jsxs)("section",{className:"home flex column align-center justify-center",children:[Object(C.jsxs)("header",{className:"home-pg-header flex justify-space-between align-center",children:[Object(C.jsx)("img",{src:w,className:"logo-img-left"}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)(o.c,{to:"/",className:"login-btn",children:"Log in"}),Object(C.jsx)(o.c,{to:"/",className:"signup-btn",children:"Sign up"})]})]}),Object(C.jsxs)("section",{className:"hero flex justify-space-between",children:[Object(C.jsxs)("div",{className:"introduction slide-right",children:[Object(C.jsx)("h1",{children:"Welcome to Treelo"}),Object(C.jsx)("div",{className:"intro-text",children:Object(C.jsx)("p",{children:"Manage projects, organize tasks, and build team spirit\u2014all in one place. Explore our many features of project and task oriented management for higher efficiency."})}),Object(C.jsx)(o.c,{to:"/board/",className:"tryit",children:"Try It now! \u2192"})]}),Object(C.jsx)("div",{className:"img-container",children:Object(C.jsx)("img",{src:y,className:"slide-left"})})]}),Object(C.jsxs)("section",{className:"home-pg-text",children:[Object(C.jsx)("img",{src:"https://i.ibb.co/BVwnK1J/kisspng-environmentally-friendly-recycling-image-sustainab-government-flooring-flooring-concepts-inc.png",className:"img-container earth-img"}),Object(C.jsx)("h2",{children:"Sick of replacing white board markers every week?"}),Object(C.jsx)("h2",{children:"Lost in the paper-towers? Save a tree, and your time!"}),Object(C.jsx)("h2",{children:"Be innovative, increase productivity by bringing new technology and tools into your organization."}),Object(C.jsx)("h2",{children:"Receive live updates from team-mates and make faster progress then ever."})]}),Object(C.jsxs)("section",{className:"about-wrapper flex column",children:[Object(C.jsx)("h2",{className:"about-us-title",children:"Contact us"}),Object(C.jsxs)("div",{className:"about-us-container flex justify-center align-center wrap",children:[Object(C.jsxs)("div",{className:"about-me-container",children:[Object(C.jsx)("div",{className:"about-me koral"}),Object(C.jsx)("h3",{children:"Koral Sabbah"}),Object(C.jsxs)("div",{className:"links-container",children:[Object(C.jsx)("a",{href:"https://www.facebook.com/koral.benabu.5",target:"blank",children:Object(C.jsx)(f.a,{className:"facebook-icon"})}),Object(C.jsx)("a",{href:"https://www.linkedin.com/in/%F0%9D%90%8A%F0%9D%90%A8%F0%9D%90%AB%F0%9D%90%9A%F0%9D%90%A5-%F0%9D%90%92%F0%9D%90%9A%F0%9D%90%9B%F0%9D%90%9B%F0%9D%90%9A%F0%9D%90%A1-%F0%91%81%8D-%F0%9D%90%81%F0%9D%90%9E%F0%9D%90%A7-%F0%9D%90%9A%F0%9D%90%9B%F0%9D%90%AE-%F0%91%81%8D-2b8172188/",target:"blank",children:Object(C.jsx)(g.a,{className:"linkedin-icon"})}),Object(C.jsx)("a",{href:"mailto:koral762@gmail.com",target:"blank",children:Object(C.jsx)(x.a,{className:"mail-icon"})})]})]}),Object(C.jsxs)("div",{className:"about-me-container",children:[Object(C.jsx)("div",{className:"about-me miriam"}),Object(C.jsx)("h3",{children:"Miriam Baranovska"}),Object(C.jsxs)("div",{className:"links-container",children:[Object(C.jsx)("a",{href:"https://www.facebook.com",target:"blank",children:Object(C.jsx)(f.a,{className:"facebook-icon"})}),Object(C.jsx)("a",{href:"https://www.linkedin.com",target:"blank",children:Object(C.jsx)(g.a,{className:"linkedin-icon"})}),Object(C.jsx)("a",{href:"mailto:maryam1649@gmail.com",target:"blank",children:Object(C.jsx)(x.a,{className:"mail-icon"})})]})]}),Object(C.jsxs)("div",{className:"about-me-container",children:[Object(C.jsx)("div",{className:"about-me ksenia"}),Object(C.jsx)("h3",{children:"Ksenia Braginsky"}),Object(C.jsxs)("div",{className:"links-container",children:[Object(C.jsx)("a",{href:"https://www.facebook.com",target:"blank",children:Object(C.jsx)(f.a,{className:"facebook-icon"})}),Object(C.jsx)("a",{href:"https://www.linkedin.com",target:"blank",children:Object(C.jsx)(g.a,{className:"linkedin-icon"})}),Object(C.jsx)("a",{href:"mailto:ksu0593@gmail.com",target:"blank",children:Object(C.jsx)(x.a,{className:"mail-icon"})})]})]})]})]})]})}}],Kn=n(180),Yn=n.n(Kn),qn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isNewBoardModalShown:!1,isLoginDrawerShown:!1,isUserDetailsOpen:!1,loggedinUser:null},e.toggleModal=function(){e.setState({isNewBoardModalShown:!e.state.isNewBoardModalShown})},e.onCloseModal=function(){e.setState({isNewBoardModalShown:!1})},e.redirectPath=function(t){e.props.history.replace("/"),e.props.history.replace("/board/".concat(t)),e.onCloseModal()},e.showLoginDrawer=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.setState({isLoginDrawerShown:!0})},e.hideLoginDrawer=function(t){t&&t.stopPropagation(),e.setState({isLoginDrawerShown:!1})},e.onOpenUserDetails=function(){console.log("open"),e.setState({isUserDetailsOpen:!0})},e.onCloseUserDetails=function(){e.setState({isUserDetailsOpen:!1})},e.onLogout=function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,e.props.logout();case 3:e.setState({isUserDetailsOpen:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({loggedinUser:oe.getLoggedinUser()})}},{key:"render",value:function(){return Object(C.jsx)(r.a.Fragment,{children:Object(C.jsxs)("div",{className:"flex justify-space-between app-header align-center",children:[Object(C.jsxs)("div",{className:"right-side flex",children:[Object(C.jsxs)("div",{className:"header-icons flex",children:[Object(C.jsx)("div",{children:Object(C.jsx)(o.c,{to:"/",children:Object(C.jsx)("span",{className:"material-icons btn",children:"home"})})}),Object(C.jsx)("div",{children:Object(C.jsx)(o.c,{to:"/board",children:Object(C.jsxs)("button",{className:"flex align-center btn",children:[Object(C.jsx)(Yn.a,{}),Object(C.jsx)("span",{className:"boards-btn",children:"Boards"})]})})})]}),Object(C.jsx)("input",{className:"btn board-nav-filter",type:"text",placeholder:"Search..."})]}),Object(C.jsx)("img",{src:w,className:"logo-img"})]})})}}]),n}(a.Component),Zn={onLogout:fe},Xn=Object(i.b)((function(e){return{}}),Zn)(qn),Qn=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onDragStart=function(){e.props.resetFilterBy(e.props.board._id)},e.onDragEnd=function(t){var n=t.destination,a=t.source,r=t.draggableId,s=t.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)&&r){if("card"===s){var c=e.props.board.groups.findIndex((function(e){return e.id===a.droppableId})),o=e.props.board.groups.findIndex((function(e){return e.id===n.droppableId}));if(a.droppableId===n.droppableId){var i=e.props.board.groups.find((function(e){return e.id===a.droppableId})),u=i.cards.find((function(e){return e.id===r})),p=Array.from(i.cards);p.splice(a.index,1),p.splice(n.index,0,u);var b=Object(d.a)(Object(d.a)({},i),{},{cards:p}),h=Object(l.a)(e.props.board.groups);h[c]=b;var j=Object(d.a)(Object(d.a)({},e.props.board),{},{groups:h});return void e.props.updatePosition(j)}if(a.droppableId!==n.droppableId){var m=e.props.board.groups.find((function(e){return e.id===n.droppableId})),f=e.props.board.groups.find((function(e){return e.id===a.droppableId})),v=e.props.board.groups.find((function(e){return e.id===n.droppableId})),g=f.cards.find((function(e){return e.id===r}));g||(g=v.cards.find((function(e){return e.id===r})));var O=f.cards.findIndex((function(e){return e.id===r})),x=Array.from(m.cards),y=g.timeAnalysis;y&&(y.timeInGroupsMap[y.currGroup.groupId]=y.timeInGroupsMap[y.currGroup.groupId]+(Date.now()-y.currGroup.enteredAt)||Date.now()-y.currGroup.enteredAt,y.currGroup={groupId:m.id,enteredAt:Date.now()}),x.splice(n.index,0,g),f.cards.splice(O,1);var w=Object(l.a)(e.props.board.groups);w[c]=f,w[o].cards=x;var C=Object(d.a)(Object(d.a)({},e.props.board),{},{groups:w});e.props.updatePosition(C,r);var k=D.a.getCardTitleById(r,C),N={txt:"moved the card",commentTxt:"",card:{id:r,title:k}},S=D.a.createActivity(N);return void e.props.addActivity(C,S)}}if("group"!==s);else{var A=Array.from(e.props.board.groups),E=e.props.board.groups.find((function(e){return e.id===r}));A.splice(a.index,1),A.splice(n.index,0,E);var B=Object(d.a)(Object(d.a)({},e.props.board),{},{groups:A});e.props.updatePosition(B)}}},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onLogout,n=e.loggedinUser,a=e.style;return Object(C.jsx)(J.a,{onDragEnd:this.onDragEnd,children:Object(C.jsx)("div",{className:"app-bg",style:a.bgImg?{backgroundImage:a.bgImg}:{backgroundColor:a.boardColor},children:Object(C.jsxs)("div",{className:"main-container flex column full",children:[Object(C.jsx)(Xn,{onLogout:t,loggedinUser:n}),Object(C.jsx)(j.c,{className:"content",children:Hn.map((function(e){return Object(C.jsx)(j.a,{exact:!0,component:e.component,path:e.path},e.path)}))})]})})})}}]),n}(a.Component);var $n={updatePosition:function(e,t){return function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"SET_BOARD",board:e}),a=JSON.parse(JSON.stringify(e)),t.next=5,D.a.updateBoard(a);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error updating board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},resetFilterBy:function(e){return function(){var t=Object(S.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.getBoardById(e);case 2:a=t.sent,n({type:"SET_BOARD",board:a}),n({type:"RESET_FILTER_BY"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addActivity:P,onLogout:fe},ea=Object(i.b)((function(e){return{loggedinUser:e.userModule.loggedinUser,board:e.boardModule.currBoard,style:e.boardModule.style}}),$n)(Qn),ta=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,319)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},na=(n(252),n(47)),aa=n(181),ra={currBoard:{},boards:[],style:{},fullLabel:!1},sa={backgroundImage:null};var ca={loggedinUser:oe.getLoggedinUser(),users:[{_id:"5f6a2528973d861c5d78c355",fullName:"Koral Sabbah",imgUrl:"https://www.linkpicture.com/q/koral.jpg"},{_id:"5f6a2528973d861c5d78c328",fullName:"Ksenia Braginsky",imgUrl:"https://www.linkpicture.com/q/ks.jpg"},{_id:"5f6a2528973d861c5d78c322",fullName:"Miriam Baranovska",imgUrl:"https://www.linkpicture.com/q/mir.jpg"},{_id:"5f6a2528973d861c5d78c323",fullName:"Avi Kohen",imgUrl:"../../imgs/miriam.jpg"}]};var oa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||na.d,ia=Object(na.c)({boardModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARD":return Object(d.a)(Object(d.a)({},e),{},{currBoard:t.board});case"SET_BOARDS":return Object(d.a)(Object(d.a)({},e),{},{boards:t.boards});case"REMOVE_BOARD":return Object(d.a)(Object(d.a)({},e),{},{currBoard:e.currBoard.filter((function(e){return e._id!==t.currBoardId}))});case"SET_DEFAULT_STYLE":return Object(d.a)(Object(d.a)({},e),{},{style:sa});case"SET_STYLE":return Object(d.a)(Object(d.a)({},e),{},{style:t.style});case"TOGGLE_FULL_LABEL":return e.fullLabel?Object(d.a)(Object(d.a)({},e),{},{fullLabel:!1}):Object(d.a)(Object(d.a)({},e),{},{fullLabel:!0});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"SIGN_UP":return Object(d.a)(Object(d.a)({},e),{},{loggedinUser:t.user});case"LOGOUT_USER":return console.log(t.user),Object(d.a)(Object(d.a)({},e),{},{loggedinUser:t.user});default:return e}}}),la=Object(na.e)(ia,oa(Object(na.a)(aa.a)));c.a.render(Object(C.jsx)(i.a,{store:la,children:Object(C.jsx)(o.a,{children:Object(C.jsx)(ea,{})})}),document.getElementById("root")),ta()},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n.n(a),s=n(7),c=n(150),o="/api/",i=n.n(c).a.create({withCredentials:!0}),l={get:function(e,t){return d(e,"GET",t)},post:function(e,t){return d(e,"POST",t)},put:function(e,t){return d(e,"PUT",t)},delete:function(e,t){return d(e,"DELETE",t)}};function d(e){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(r.a.mark((function e(t){var n,a,s,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"get",a=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,i({url:"".concat(o).concat(t),method:n,data:a,params:"GET"===n?a:null});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(a)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(45);var a=n(3),r=n.n(a),s=n(7),c=n(151),o=n.n(c),i=n(53),l=function(){var e=null,t={setup:function(){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,i.a.get("setup-session");case 4:e=o()("",{reconnection:!1}),!0;case 6:case"end":return t.stop()}}),t)})))()},on:function(n,a){return Object(s.a)(r.a.mark((function s(){return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return r.next=3,t.setup();case 3:e.on(n,a);case 4:case"end":return r.stop()}}),s)})))()},off:function(n){var a=arguments;return Object(s.a)(r.a.mark((function s(){var c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a.length>1&&void 0!==a[1]?a[1]:null,e){r.next=4;break}return r.next=4,t.setup();case 4:c?e.off(n,c):e.removeAllListeners(n);case 5:case"end":return r.stop()}}),s)})))()},emit:function(n,a){return Object(s.a)(r.a.mark((function s(){return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return r.next=3,t.setup();case 3:e.emit(n,a);case 4:case"end":return r.stop()}}),s)})))()},terminate:function(){e=null,!1}};return t}();window.socketService=l}},[[253,1,2]]]);
//# sourceMappingURL=main.28f1c30a.chunk.js.map